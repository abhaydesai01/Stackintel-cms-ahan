<!DOCTYPE html>
<html lang="en">

<head>
  <!-- META SECTION -->
  <title>ahan | Customer Details</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="assets/img/favicon.ico" type="image/x-icon" />
  <!-- END META SECTION -->

  <!-- CSS INCLUDE -->
  <link rel="stylesheet" type="text/css" id="theme" href="assets/css/theme-default.css" />
  <link rel="stylesheet" type="text/css" id="theme1" href="assets/css/mystyle.css" />
  <link rel="stylesheet" type="text/css" href="assets/css/select2/select2.min.css" />
  <link rel="stylesheet" type="text/css" href="assets/css/datepicker.css" />
  <link rel="stylesheet" type="text/css" href="assets/js/plugins/gijgo-datepicker/css/gijgo.min.css" />

  <!-- EOF CSS INCLUDE -->

  <style type="text/css">
    @media (min-width: 768px) {
      #commentsModal .modal-dialog {
        width: 660px;
      }
    }

    #commentsModal .modal-body {
      max-height: 214px;
      overflow: hidden;
      overflow-y: auto;
    }

    tr.collapse_header {
      display: none;
    }

    tr#transRow,
    tr.testingg,
    tr#cardsRow,
    tr.testingg {
      display: table-row;
    }

    tr#transRow th,
    tr#cardsRow th {
      z-index: 999;
    }

    fieldset {
      border: 1px solid #ddd !important;
      margin: 0;
      padding: 10px;
      border-radius: 4px;
      background-color: #f5f5f5;
      padding-left: 10px !important;
    }

    .demog_mobile_wrapper {
      display: flex;
      flex: 50%;
    }

    #embosserUpdateModal .modal-header {
      display: flex;
      flex-wrap: wrap;
    }

    #embosserUpdateModal .modal-header h5 {
      flex: 50%;
    }

    td.nw {
      white-space: nowrap;
    }
  </style>
</head>

<body>
  <div id="hiddenFields">
    <input type="hidden" id="customer_id" name="customerID" value="${userDetails.customerID}" />
    <input type="hidden" id="customerStatus" name="customerStatus" value="${userDetails.status}" />
    <input type="hidden" id="walletHash" name="walletHash" value="${userDetails.walletHash}" />
    <input type="hidden" id="companyName" name="companyName" value="" />
    <input type="hidden" id="totalPagesId" value="1" />
    <input type="hidden" id="totalPages_Id" value="1" />
    <input type="hidden" id="addCardUrl" name="addCardUrl" value="${addCardUrl}" />
    <input type="hidden" id="activateCardUrl" name="activateCardUrl" value="${activateCardUrl}" />
    <input type="hidden" id="cardlistUrl" name="cardlistUrl" value="${cardlistUrl}" />
    <input type="hidden" id="temporaryBlockCardUrl" name="temporaryBlockCardUrl" value="${temporaryBlockCardUrl}" />
    <input type="hidden" id="sofUnblockCardUrl" name="sofUnblockCardUrl" value="${sofUnblockCardUrl}" />
    <input type="hidden" id="replacementCardUrl" name="replacementCardUrl" value="${replacementCardUrl}" />
    <input type="hidden" id="walletBalanceUrl" name="walletBalanceUrl" value="${walletBalanceUrl}" />
    <input type="hidden" id="transactionListUrl" name="transactionListUrl" value="${transactionListUrl}" />
    <input type="hidden" id="customerHistoryUrl" name="customerHistoryUrl" value="${customerHistoryUrl}" />
    <!-- history -->
    <input type="hidden" id="customerAddressHistoryUrl" name="customerAddressHistoryUrl"
      value="${customerAddressHistoryUrl}" />
    <!-- history -->
    <input type="hidden" id="getAddressListUrl" name="getAddressListUrl" value="${getAddressListUrl}" />
    <input type="hidden" id="getClientByClientCodeUrl" name="getClientByClientCodeUrl"
      value="${getClientByClientCodeUrl}" />
    <input type="hidden" id="getPlasticIdUrl" name="getPlasticIdUrl" value="${getPlasticIdUrl}" />
    <input type="hidden" id="getLogoListUrl" name="getLogoListUrl" value="${getLogoListUrl}" />
    <input type="hidden" id="currencyListClientUrl" name="currencyListClientUrl" value="${currencyListClientUrl}" />
    <input type="hidden" id="customerCommentUrl" name="customerCommentUrl" value="${customerCommentUrl}" />
    <input type="hidden" id="getCommentListUrl" name="getCommentListUrl" value="${getCommentListUrl}" />
    <input type="hidden" id="getCommentTypeUrl" name="getCommentTypeUrl" value="${getCommentTypeUrl}" />
    <input type="hidden" id="blockType" name="blockType" value="" />
    <input type="hidden" id="plasticIdValueHold" />
    <input type="hidden" id="logoIdValueHold" />
    <input type="hidden" id="cardTypeCodeValueHold" />
    <input type="hidden" id="currencyCodeValueHold" name="currencyCodeValueHold" value="${client.currencyCode}" />
    <input type="hidden" class="form-control" id="card_expiry" name="card_expiry" />
    <input type="hidden" id="replaceCurrencyCodeValueHold" name="replaceCurrencyCodeValueHold"
      value="${client.currencyCode}" />
    <input type="hidden" class="form-control" id="replace_card_expiry" name="card_expiry" />
    <input type="hidden" id="cardNumber" name="cardNumber" />
    <input type="hidden" id="cardStatus" name="cardStatus" />
    <input type="hidden" id="cardActivationStatus" name="cardActivationStatus" />
    <input type="hidden" id="cardID" name="cardID" />
    <input type="hidden" id="cardType" name="cardType" />
    <input type="hidden" class="form-control" name="customer_hash" value="${customerHashId}" id="customer_hash" />
    <input type="hidden" id="customerHashId" name="customerHashId" value="${userDetails.customerHashId}" />
    <input type="hidden" id="clientCode" name="clientCode" value="${userDetails.clientCode}" />
    <input type="hidden" id="fetchComplianceMetadataUrl" name="fetchComplianceMetadataUrl"
      value="${fetchComplianceMetadataUrl}" />
    <input type="hidden" id="uploadSgDocumentsUrl" name="uploadSgDocumentsUrl" value="${uploadSgDocumentsUrl}" />
    <input type="hidden" id="uploadSgShippingDocumentsUrl" name="uploadSgShippingDocumentsUrl"
      value="${uploadSgShippingDocumentsUrl}" />
    <input type="hidden" id="uploadEuDocumentsUrl" name="uploadEuDocumentsUrl" value="${uploadEuDocumentsUrl}" />
    <input type="hidden" id="uploadHkDocumentsUrl" name="uploadHkDocumentsUrl" value="${uploadHkDocumentsUrl}" />
    <input type="hidden" id="unmaskCardUrl" name="unmaskCardUrl" value="${unmaskCardUrl}" />
    <input type="hidden" id="transactionDownloadUrl" value="${transactionDownloadUrl}" />
    <input type="hidden" id="complianceDocUploadUrl" value="${complianceDocUploadUrl}" />
    <input type="hidden" id="getcardlistUrl" value="${getcardlistUrl}" />
    <input type="hidden" id="cardCustomerDetailUrl" name="cardCustomerDetailUrl" value="${cardCustomerDetailUrl}" />
    <input type="hidden" id="customerDetailUrl" name="customerDetailUrl" value="${customerDetailUrl}" />
    <input type="hidden" id="demographicUpdateUrl" name="demographicUpdateUrl" value="${demographicUpdateUrl}" />
    <input type="hidden" id="embosserUpdateUrl" name="embosserUpdateUrl" value="${embosserUpdateUrl}" />
    <input type="hidden" id="outstandingAuthInquiryUrl" name="outstandingAuthInquiryUrl"
      value="${outstandingAuthInquiryUrl}" />
    <input type="hidden" id="countryId" name="countryId" value="" />
    <input type="hidden" id="billingAddressId" name="billingAddressId" value="" />
    <input type="hidden" id="correspondenceAddressId" name="correspondenceAddressId" value="" />
    <input type="hidden" id="deliveryAddressId" name="deliveryAddressId" value="" />
    <input type="hidden" id="cardListDownloadUrl" value="${cardListDownloadUrl}" />
    <input type="hidden" id="fetchCardListUrl" value="${fetchCardListUrl}" />
    <input type="hidden" id="customerPhoneCode" name="customerPhoneCode" value="" />
    <input type="hidden" id="getCountryListUrl" value="${getCountryListUrl}" />
    <input type="hidden" id="transactionId" />
    <input type="hidden" id="authcode" />
    <input type="hidden" id="beneficiariesListUrl" name="beneficiariesListUrl" value="${beneficiariesListUrl}" />
    <input type="hidden" id="linkedCardsListUrl" name="linkedCardsListUrl" value="${linkedCardsListUrl}" />
    <!-- history -->
  </div>
  <!-- preloader Start -->
  <div id="preloader">
    <div id="status">&nbsp;</div>
  </div>
  <!-- preloader Ends -->

  <!-- START PAGE CONTAINER -->
  <div class="page-container">
    <div class="page-sidebar">
      <!-- START X-NAVIGATION -->
      <ul class="x-navigation side_custom_scroll" id="sidebarnav">
        <li class="xn-logo">
          <a href="index.html">ahan</a>
          <a href="#" class="x-navigation-control"></a>
        </li>
        <li class="dashboard">
          <a href="index.html">
            <span class="fas fa-tachometer-alt"></span>
            <span class="xn-text">Dashboard</span>
          </a>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-box-open"></span>
            <span class="xn-text">FD Products</span>
          </a>
          <ul>
            <li>
              <a href="addEmboserLogo.html">
                <span class="xn-text">Define Logo</span>
              </a>
            </li>
            <li>
              <a href="emboserLogoList.html">
                <span class="xn-text">Embosser Logo List</span>
              </a>
            </li>
          </ul>
        </li>

        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-tasks"></span>
            <span class="xn-text">Program</span>
          </a>
          <ul>
            <li>
              <a href="addprogram.html">
                <span class="xn-text">Create Program</span>
              </a>
            </li>
            <li>
              <a href="programList.html">
                <span class="xn-text">Program List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-user-tie"></span>
            <span class="xn-text">Client</span>
          </a>
          <ul>
            <li>
              <a href="addTermsAndConditions.html">
                <span class="xn-text">Add Terms And Conditions</span>
              </a>
            </li>
            <li>
              <a href="addClient.html">
                <span class="xn-text">Add Client</span>
              </a>
            </li>
            <li>
              <a href="clientList.html">
                <span class="xn-text">Client List</span>
              </a>
            </li>

            <li class="xn-openable">
              <a href="#" class="has-arrow">
                <span class="xn-text">Setup Limits</span>
              </a>
              <ul>
                <li>
                  <a href="setupAuthLimits.html">
                    <span class="xn-text">Setup Auth Limits</span>
                  </a>
                </li>
                <li>
                  <a href="setupRegulatoryLimits.html">
                    <span class="xn-text">Setup Regulatory Limits</span>
                  </a>
                </li>
              </ul>
            </li>
            <li>
              <a href="addCurrency.html">
                <span class="xn-text">Add Currency</span>
              </a>
            </li>
            <li>
              <a href="setupPaymentId.html">
                <span class="xn-text">Setup Payment Id</span>
              </a>
            </li>
            <li>
              <a href="addComplianceConfiguration.html">
                <span class="xn-text">Add Customer Compliance Config</span>
              </a>
            </li>
            <li>
              <a href="complianceConfigurationList.html">
                <span class="xn-text">Customer Compliance Config View</span>
              </a>
            </li>
            <li>
              <a href="addPlasticId.html">
                <span class="xn-text">Add Plastic Id</span>
              </a>
            </li>
            <li>
              <a href="addPocket.html">
                <span class="xn-text">Add Pocket</span>
              </a>
            </li>
            <li>
              <a href="pocketList.html">
                <span class="xn-text">Pocket List</span>
              </a>
            </li>
            <li>
              <a href="plasticIdList.html">
                <span class="xn-text">Plastic Id List</span>
              </a>
            </li>
            <li>
              <a href="notificationTemplate.html">
                <span class="xn-text">Notification Templates</span>
              </a>
            </li>
            <li>
              <a href="setupRemitAccounts.html">
                <span class="xn-text">Setup Remit Accounts</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-handshake"></span>
            <span class="xn-text">Client Relationship</span>
          </a>
          <ul>
            <li>
              <a href="persistClientRelationship.html">
                <span class="xn-text">Add Client Relationship</span>
              </a>
            </li>
          </ul>

          <ul>
            <li>
              <a href="persistClientRelationshipMapping.html">
                <span class="xn-text">Add Client Relationship Mapping</span>
              </a>
            </li>
          </ul>

          <ul>
            <li>
              <a href="fetchClientRelationships.html">
                <span class="xn-text">Client Relationship List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-users"></span>
            <span class="xn-text">Customer</span>
          </a>
          <ul>
            <li>
              <a href="addCustomer.html">
                <span class="xn-text">Add Customer</span>
              </a>
            </li>
            <li>
              <a href="customerList.html">
                <span class="xn-text">Customer List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-user-check"></span>
            <span class="xn-text">Customer Compliance</span>
          </a>
          <ul>
            <li>
              <a href="complianceReport.html">
                <span class="xn-text">Customer Compliance Report</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="far fa-credit-card"></span>
            <span class="xn-text">Cards</span>
          </a>
          <ul>
            <li>
              <a href="cardList.html">Card List</a>
            </li>
            <li>
              <a href="assignPhysicalCard.html">Assign Physical Card</a>
            </li>
            <li>
              <a href="bulkCardIssuance.html"> Bulk Card Issuance</a>
            </li>
            <li>
              <a href="bulkCardIssuanceIndent.html">
                Bulk Card Issuance Indent</a>
            </li>
            <li>
              <a href="bulkCardIssuanceList.html"> Bulk Card Issuance List</a>
            </li>
            <li>
              <a href="bulkCardIssuanceResponse.html">
                Bulk Card Issuance Response</a>
            </li>
            <li>
              <a href="embossingRecordStatus.html">
                Embossing Record Status</a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-search-dollar"></span>
            <span class="xn-text">Transaction Compliance</span>
          </a>
          <ul>
            <li>
              <a href="transactionComplianceProfile.html">
                <span class="xn-text">Transaction Compliance Profile</span>
              </a>
            </li>
            <li>
              <a href="transactionComplianceProfileMapping.html">
                <span class="xn-text">Transaction Compliance Profile Mapping</span>
              </a>
            </li>
            <li>
              <a href="transactionsCompliance.html">
                <span class="xn-text">Transaction Compliance Report</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-copy"></span>
            <span class="xn-text">Reports</span>
          </a>
          <ul>
            <li>
              <a href="transactionReport.html">
                <span class="xn-text">Transaction Reports</span>
              </a>
            </li>
            <li>
              <a href="settlementReport.html">
                <span class="xn-text">Settlement Reports</span>
              </a>
            </li>
            <li>
              <a href="cannedReport.html">
                <span class="xn-text">Canned Reports</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-hand-holding-usd"></span>
            <span class="xn-text">Client Funds</span>
          </a>
          <ul>
            <li>
              <a href="addPrefundRequest.html">
                <span class="xn-text">Client Prefund Request</span>
              </a>
            </li>
            <li>
              <a href="prefundList.html">
                <span class="xn-text">Client Prefund Approval</span>
              </a>
            </li>
            <li>
              <a href="addRefundRequest.html">
                <span class="xn-text">Client Refund Request</span>
              </a>
            </li>
            <li>
              <a href="refundList.html">
                <span class="xn-text">Client Refund Approval</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-wallet"></span>
            <span class="xn-text">Wallet Fund Request</span>
          </a>
          <ul>
            <li>
              <a href="walletFundRequest.html">
                <span class="xn-text">Wallet Fund Request</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-unlock-alt"></span>
            <span class="xn-text">ICC Transactions</span>
          </a>
          <ul>
            <li>
              <a href="matchingEngine.html">
                <span class="xn-text">ICC Transactions</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-users-cog"></span>
            <span class="xn-text">Bulk Customer Registration</span>
          </a>
          <ul>
            <li>
              <a href="customerDocumentUpload.html">
                <span class="xn-text">Bulk Customer Registration</span>
              </a>
            </li>
            <li>
              <a href="customerDocumentsList.html">
                <span class="xn-text">Bulk Customer List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-money-check-alt"></span>
            <span class="xn-text">Bulk Wallet Topup</span>
          </a>
          <ul>
            <li>
              <a href="bulkWalletTopup.html">
                <span class="xn-text">Bulk Wallet TopUp</span>
              </a>
            </li>
            <li>
              <a href="bulkwallettopupdocument.html">
                <span class="xn-text">Bulk Wallet TopUp List</span>
              </a>
            </li>
            <li>
              <a href="bulkFeeFileUpload.html">
                <span class="xn-text">Fee File Upload</span>
              </a>
            </li>
            <li>
              <a href="bulkFeeFileUploadList.html">
                <span class="xn-text">Fee File Upload List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-money-check-alt"></span>
            <span class="xn-text">Cashback Credit</span>
          </a>
          <ul>
            <li>
              <a href="cashbackCreditFileUpload.html">
                <span class="xn-text">Cashback Credit File Upload</span>
              </a>
            </li>
            <li>
              <a href="cashbackCreditList.html">
                <span class="xn-text">Cashback Credit List</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-bell"></span>
            <span class="xn-text">Bulk Ad-Hoc Notification</span>
          </a>
          <ul>
            <li>
              <a href="bulkNotification.html">
                <span class="xn-text">Bulk Ad-Hoc Notification</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="xn-openable">
          <a href="#" class="has-arrow">
            <span class="fas fa-user-cog"></span>
            <span class="xn-text">Admin Services</span>
          </a>
          <ul>
            <li>
              <a href="addRole.html">
                <span class="xn-text">Add Role</span>
              </a>
            </li>
          </ul>
          <ul>
            <li>
              <a href="roleList.html">
                <span class="xn-text">Role List</span>
              </a>
            </li>
          </ul>
          <ul>
            <li>
              <a href="addUser.html">
                <span class="xn-text">Add Users</span>
              </a>
            </li>
          </ul>
          <ul>
            <li>
              <a href="fetchGroupList.html">
                <span class="xn-text">User Group List</span>
              </a>
            </li>
          </ul>
          <ul>
            <li>
              <a href="userList.html">
                <span class="xn-text">User List</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
      <!-- END X-NAVIGATION -->
    </div>
    <!-- END PAGE SIDEBAR -->

    <!-- PAGE CONTENT -->
    <div class="page-content">
      <!-- START X-NAVIGATION VERTICAL -->
      <ul class="x-navigation x-navigation-horizontal x-navigation-panel">
        <!-- TOGGLE NAVIGATION -->
        <li class="xn-icon-button">
          <button class="x-navigation-minimize btn-menu-mobile">
            <span class="fas fa-indent"></span>
          </button>
        </li>
        <!-- END TOGGLE NAVIGATION -->
        <!-- SEARCH -->
        <!-- <li class="xn-search">
				  <form role="form">
					  <input type="text" name="search" placeholder="Search..." />
				  </form>
			  </li> -->
        <!-- END SEARCH -->
        <!-- POWER OFF -->
        <li class="xn-icon-button pull-right last">
          <button class="mb-control btn-menu-mobile" data-box="#mb-signout">
            <span class="fa fa-power-off"></span>
          </button>
          <!-- <ul class="xn-drop-left animated zoomIn">
					  <li><a href="${pageContext.request.contextPath}/changePassword"><span
							  class="fas fa-unlock-alt"></span> Change Password</a></li>
					  <li><a href="#" class="mb-control" data-box="#mb-signout"><span
							  class="fas fa-sign-out-alt"></span> Sign Out</a></li>
				  </ul>  -->
        </li>
        <!-- END POWER OFF -->
      </ul>
      <!-- END X-NAVIGATION VERTICAL -->

      <!-- PAGE CONTENT WRAPPER -->
      <div class="page-content-wrap">
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-12">
              <div class="page-title-box">
                <h4 class="page-title">Customer Detail</h4>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="panel" style="min-height: 73vh">
                <h5 style="color: green; text-align: center"></h5>
                <h5 style="color: red; text-align: center"></h5>

                <h4 class="success text-center"></h4>
                <h4 class="error text-center"></h4>

                <h4 id="inPageErrorMessage" class="error text-center"></h4>
                <h4 id="inPageSuccessMessage" class="success text-center"></h4>
                <div class="panel-body">
                  <div class="client_details">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="details">
                          <div>
                            <span>Name</span>
                          </div>
                          <div>
                            <span class="text-capitalize" style="word-break: break-all">Subhasmita Biswal</span>
                          </div>
                          <div>
                            <span>Email</span>
                          </div>
                          <div>
                            <span style="word-break: break-all">info@gmail.com</span>
                          </div>
                          <div>
                            <span>Phone</span>
                          </div>
                          <div>
                            <span>9896457822</span>
                          </div>
                          <div>
                            <span>Phone Country Code</span>
                          </div>
                          <div>
                            <span class="label label-info">In</span>
                          </div>
                          <div>
                            <span>KYC Mode</span>
                          </div>
                          <div>
                            <span class="label label-success">MANUAL_KYC</span>
                          </div>
                          <div>
                            <span>KYC Status</span>
                          </div>
                          <div>
                            <span class="label label-danger"></span>
                            <span class="label label-warning">Pending</span>
                            <span class="label label-success"></span>
                            <button class="btn btn-primary btn-xs ripple" onclick="openDocUploadModal();">
                              Upload Documents
                            </button>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="details">
                          <!-- history -->
                          <div>
                            <span>Client Name</span>
                          </div>
                          <div>
                            <span id="clientName">MultiCurrency</span>
                          </div>
                          <div>
                            <span>Client Hash</span>
                          </div>
                          <div>
                            <span id="copy_client_text">12aaaaaaaa-223aaaaaaaaa-8767aa576aa76</span>
                            <a href="javascript:;" id="copy_client_btn" onclick="copy_clientHashId()"
                              class="far fa-copy" style="color: black"></a>
                          </div>
                          <div>
                            <span>Customer Hash</span>
                          </div>
                          <div>
                            <span id="copy_customer_text">12aaaaaaaa-223aaaaaaaaa-8767aa576aa76</span>
                            <a href="javascript:;" id="copy_customer_btn" onclick="copy_customerHashId()"
                              class="far fa-copy" style="color: black"></a>
                          </div>
                          <div>
                            <span>Wallet Hash</span>
                          </div>
                          <div>
                            <span id="copy_wallet_text">12aaaaaaaa-223aaaaaaaaa-8767aa576aa76</span>
                            <a href="javascript:;" id="copy_wallet_btn" onclick="copy_walletHashId()"
                              class="far fa-copy" style="color: black"></a>
                          </div>
                          <div>
                            <span>Created</span>
                          </div>
                          <div>
                            <span id="createDate">2021-05-10 17:00:00</span>
                          </div>
                          <div>
                            <span>DOB</span>
                          </div>
                          <div>
                            <span data-toggle="tooltip" data-placement="top" title="YYYYMMDD">01-01-2021</span>
                          </div>
                          <!-- history -->
                          <div>
                            <span>Nationality</span>
                          </div>
                          <div>
                            <span>IN</span>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12">
                        <div class="btns_wrapper">
                          <div>
                            <button id="customerHistory" class="btn btn-primary btn-xs btn-block ripple">
                              Customer History
                            </button>
                            <!-- history -->
                          </div>
                          <div>
                            <button id="customerAddressHistory" class="btn btn-primary btn-xs btn-block ripple"
                              onclick="getCustomerAddressHistory();">
                              Address History
                            </button>
                            <!-- history -->
                          </div>
                          <div>
                            <button class="btn btn-primary btn-xs btn-block ripple" id="getAddressList">
                              View Address
                            </button>
                          </div>
                          <div>
                            <button class="btn btn-primary btn-xs btn-block ripple" id="getCommentData">
                              View Comments
                            </button>
                          </div>
                          <div>
                            <button class="btn btn-primary btn-xs btn-block ripple" id="addCommentData">
                              Add Comment
                            </button>
                          </div>
                          <div id="suspendUserButtonDIV" style="display: none">
                            <button id="suspendUserButton" value="Suspend" onclick="showConfirmation(event);"
                              class="btn btn-warning btn-xs btn-block ripple" type="button">
                              Suspend Customer
                            </button>
                          </div>
                          <div id="resumeUserButtonDIV" style="display: none">
                            <button id="resumeUserButton" value="Active" onclick="showConfirmation(event);"
                              class="btn btn-success btn-xs btn-block ripple" type="button">
                              Resume Customer
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="client_tables pull-left full-width">
                    <ul class="nav nav-tabs mb-2">
                      <li>
                        <a data-toggle="tab" href="#wallet" onclick="generateWalletBalanceTable();">Wallet</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#card" onclick="generateCardsTable();">Card</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#trxn" onclick="generateWalletTransactionTable();">Transactions</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#limit" onclick="generateLimitsTable();">Limits</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#restriction" onclick="generateRestrictionsTable();">Restrictions</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#beneficiaries"
                          onclick="generateBeneficiariesTable()">Beneficiaries</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#linkedCards" onclick="generateLinkedCardsTable()">Amaze Linked
                          Cards</a>
                      </li>
                    </ul>

                    <div class="tab-content tab_wrapper">
                      <div id="wallet" class="tab-pane fade">
                        <div class="table_wrapper table-responsive">
                          <table id="walletBalanceTable" class="
                                table
                                table-striped
                                table-bordered
                                table-condensed
                              ">
                            <thead>
                              <tr>
                                <th>SN</th>
                                <th>Currency</th>
                                <th>Pocket</th>
                                <th>Balance</th>
                                <th>Hold Balance</th>
                                <th>Unique PayerId</th>
                                <th>Unique PaymentId</th>
                              </tr>
                            </thead>
                            <tbody id="pocketList">
                              <tr>
                                <td>1</td>
                                <td>SGD</td>
                                <td>air</td>
                                <td>0.00000</td>
                                <td>0.00000</td>
                                <td></td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>2</td>
                                <td>SGD</td>
                                <td>Hotel</td>
                                <td>0.00000</td>
                                <td>0.00000</td>
                                <td></td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>3</td>
                                <td>AUD</td>
                                <td>DEFAULT</td>
                                <td>0.00000</td>
                                <td>0.00000</td>
                                <td></td>
                                <td>20024399697</td>
                              </tr>
                              <tr>
                                <td>4</td>
                                <td>AUD</td>
                                <td>DEFAULT</td>
                                <td>0.00000</td>
                                <td>0.00000</td>
                                <td></td>
                                <td></td>
                              </tr>
                              <tr>
                                <td>5</td>
                                <td>INR</td>
                                <td>DEFAULT</td>
                                <td>0.00000</td>
                                <td>0.00000</td>
                                <td></td>
                                <td></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>

                      <div id="card" class="tab-pane fade">
                        <div class="text-right mb-2">
                          <button class="btn btn-primary btn-xs ripple" id="addCard_button"
                            onclick="openAddCardModel();getPlasticIdListOfClient();getLogoIdOfClient();getCurrencyCode()">
                            Add Card
                          </button>
                        </div>
                        <div id="tableDiv" class="table_wrapper">
                          <table id="userDetailsTable" class="
                                table
                                table-bordered
                                table-striped
                                table-condensed
                              ">
                            <thead>
                              <tr id="cardsRow">
                                <th>SN</th>
                                <th>Issued On</th>
                                <th>Activation Status</th>
                                <th>Masked Card Number</th>
                                <th>Hash Id</th>
                                <th>Type</th>
                                <th>Issuance Type</th>
                                <th>Account Number</th>
                                <th>Embossed Name1</th>
                                <th>Action</th>
                              </tr>
                            </thead>
                            <tbody id="cardListTable">
                              <tr class="text-center">
                                <td colspan="10">No Data Available</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="paginationWrapper">
                          <p id="paging_info" class="pull-left"></p>
                          <div class="pull-right">
                            <ul class="pagination-sm" id="paginationn"></ul>
                          </div>
                        </div>
                      </div>
                      <div id="trxn" class="tab-pane fade">
                        <div id="tableDiv">
                          <div class="text-right mb-2">
                            <button class="btn btn-primary btn-sm" onclick="transacionDownload();"
                              id="transacionDownload">
                              Download
                            </button>
                          </div>
                          <div class="table_wrapper table-responsive">
                            <table id="Transaction_Details" class="
                                  table
                                  table-bordered
                                  table-striped
                                  table-condensed
                                ">
                              <thead>
                                <tr id="transRow">
                                  <th>SN</th>
                                  <th>Date</th>
                                  <th>Settlement Status</th>
                                  <th>Transaction Status</th>
                                  <th>Transaction Type</th>
                                  <th>Transaction currency</th>
                                  <th>Transaction Amount</th>
                                  <th>Billing Currency</th>
                                  <th>Billing Amount</th>
                                  <th>Auth Currency</th>
                                  <th>Auth Amount</th>
                                  <th>Effective Auth Amount</th>
                                  <th>Previous Balance</th>
                                  <th>Settlement Amount</th>
                                  <th>Settlement Currency</th>
                                  <th>Pocket Definition</th>
                                  <th>MaskedCard Number</th>
                                  <th>Merchant Category</th>
                                  <th>Merchant Code</th>
                                  <th>Merchant Name</th>
                                  <th>Authorization Code</th>
                                  <th>Pos Entry Mode</th>
                                  <th>System Trace Audit Number</th>
                                  <th>Comments</th>
                                  <th>Action</th>
                                </tr>
                              </thead>
                              <tbody id="transactionListTable">
                                <tr class="text-center">
                                  <td colspan="25">No Data Available</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="paginationWrapper">
                            <p id="paging_infos" class="pull-left"></p>
                            <div class="pull-right">
                              <ul class="pagination-sm" id="paginations"></ul>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div id="limit" class="tab-pane fade">
                        <div class="table_wrapper table-responsive">
                          <table id="limitTable" class="
                                table
                                table-striped
                                table-bordered
                                table-condensed
                              ">
                            <thead>
                              <tr>
                                <th>SN</th>
                                <th>Masked Card Number</th>
                                <th>Card Hash Id</th>
                                <th>Limit Name</th>
                                <th>Limit Value</th>
                                <th>Threshold</th>
                                <th>Status</th>
                                <th>Created At</th>
                                <th>Updated At</th>
                              </tr>
                            </thead>
                            <tbody id="limitList">
                              <tr class="text-center">
                                <td colspan="9">No Data Available</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div id="restriction" class="tab-pane fade">
                        <div class="table_wrapper table-responsive">
                          <table id="restrictionsTable" class="
                                table
                                table-striped
                                table-bordered
                                table-condensed
                              ">
                            <thead>
                              <tr>
                                <th>SN</th>
                                <th>Masked Card Number</th>
                                <th>Card Hash Id</th>
                                <th>Channel Name</th>
                                <th>Restriction Name</th>
                                <th>Restriction Operator</th>
                                <th>Restriction Value</th>
                                <th>Status</th>
                                <th>Created At</th>
                                <th>Updated At</th>
                              </tr>
                            </thead>
                            <tbody id="restrictionList">
                              <tr class="text-center">
                                <td colspan="10">No Data Available</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div id="beneficiaries" class="tab-pane fade">
                        <div class="table_wrapper table-responsive">
                          <table id="beneficiaryTable" class="
                                table
                                table-striped
                                table-bordered
                                table-condensed
                              ">
                            <thead>
                              <tr>
                                <th>SN</th>
                                <th>Beneficiary ID</th>
                                <th>Beneficiary Name</th>
                                <th>Beneficiary Bank Name</th>
                                <th>Beneficiary Account Number</th>
                                <th>Beneficiary Email ID</th>
                                <th>Beneficiary Contact</th>
                                <th>Beneficiary Country</th>
                                <th>Beneficiary Created Date</th>
                                <th>Beneficiary Relationship</th>
                                <th>Payout Type</th>
                              </tr>
                            </thead>
                            <tbody id="beneficiaryList">
                              <tr class="text-center">
                                <td colspan="11">No Data Available</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div id="linkedCards" class="tab-pane fade">
                        <div class="table_wrapper table-responsive">
                          <table id="linkedCardsTable" class="
                                table
                                table-striped
                                table-bordered
                                table-condensed
                              ">
                            <thead>
                              <tr>
                                <th>SN</th>
                                <th>Auth Type</th>
                                <th>Amaze Masked Card</th>
                                <th>Masked Card</th>
                                <th>Selected?</th>
                                <th>Payment Instrument Hash Id</th>
                                <th>Card Type</th>
                                <th>Card Network</th>
                                <th>Card Issuer</th>
                                <th>Card Name</th>
                                <th>Status</th>
                                <th>Verification Status</th>
                                <th>Card Country</th>
                                <th>Card Description</th>
                                <th>Mapping Key</th>
                                <th>Mapping Value</th>
                                <th>Linked At</th>
                                <th>Last Updated At</th>
                              </tr>
                            </thead>
                            <tbody id="linkedCardsList">
                              <tr class="text-center">
                                <td colspan="18">No Data Available</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- END PAGE CONTENT -->
        </div>
      </div>
      <!-- END PAGE CONTAINER -->
    </div>

    <!-- MESSAGE BOX-->
    <div class="message-box animated fadeIn" data-sound="alert" id="mb-signout">
      <div class="mb-container">
        <div class="mb-middle">
          <div class="mb-icon">
            <div>
              <img alt="ahan" src="assets/img/logo-big.png" />
            </div>
          </div>
          <div class="mb-title">
            <span class="fa fa-sign-out"></span>
            Log out of ahan?
          </div>
          <div class="mb-content">
            <p>Are you sure you want to log out?</p>
            <p>
              Press No if you want to continue work. Press Yes to logout
              current user.
            </p>
          </div>
          <div class="mb-footer">
            <button class="btn btn-default mb-control-close btn-block">
              No
            </button>
            <a href="login.html" class="btn btn-block btn-primary">Yes</a>
          </div>
        </div>
      </div>
    </div>
    <!-- END MESSAGE BOX-->

    <div class="modal fade" id="confirmationModel" role="dialog">
      <div class="modal-dialog modal-dialog-sm modal-dialog-centered">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
            <h2 class="modal-title" id="title">Disclaimer</h2>
          </div>
          <div class="modal-body">
            <form action="" method="post">
              <h3 class="error text-center f-14 mb-4" id="confirmationMsgContent"></h3>
              <div class="row">
                <div class="col-xs-12 col-sm-12">
                  <div class="form-group text-center">
                    <!-- <input type="submit" class="btn btn-danger" value="OK" /> -->
                    <button class="btn btn-danger btn-sm px-5 ripple" type="submit">
                      OK
                    </button>
                    <button class="btn btn-success btn-sm px-5 ripple" data-dismiss="modal">
                      Cancel
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Document Modal -->
  <div id="docModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Documents</h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6">
              <img src="assets/img/backgrounds/wall_1.jpg" class="img-responsive" alt="" />
            </div>
            <div class="col-md-6">
              <img src="assets/img/backgrounds/wall_1.jpg" class="img-responsive" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Address Modal -->
  <div id="addModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Address Proof</h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6">
              <img src="assets/img/backgrounds/wall_1.jpg" class="img-responsive" alt="" />
            </div>
            <div class="col-md-6">
              <img src="assets/img/backgrounds/wall_1.jpg" class="img-responsive" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addCardModel" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title" id="title_card">
            <c:out value="ADD Card : ${userDetails.firstName} ${userDetails.middleName} ${userDetails.lastName}" />
          </h4>
        </div>

        <div class="modal-body modal_body_responsive">
          <form id="appcardUploadForm" method="POST">
            <c:forEach items="${customerAddressDetails.customerDetails}" var="list">
              <input type="hidden" id="clientId" name="clientId" value="${list.clientId}" class="" />

              <input type="hidden" id="customerId" name="customerId" value="${list.customerID}" class="" />

              <input type="hidden" id="Customer_hash_Id" name="Customer_hash_ID" value="${list.customerHashId}" />

              <input type="hidden" id="issuance_mode" name="issuance_mode" value="NORMAL_DELIVERY_LOCAL" class="" />

              <input type="hidden" id="memorable_word" name="memorable_word" value="${list.preferredName}" class="" />
            </c:forEach>

            <h6 id="cardTypeCodeErrorElement" class="error field_err"></h6>

            <div class="row">
              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label>Card Action<sup>*</sup></label>
                  <label for="action"></label>
                  <select id="action" name="action" class="form-control selectpicker">
                    <option value="NEW">New Card</option>
                    <option value="ADD_ON">Add On Card</option>
                  </select>
                  <span id="cardTypeErrorMsg" class="error field_err"></span>
                </div>
              </div>
              <div class="col-md-6 col-xs-12 card_hash_id">
                <div class="form-group">
                  <label>Demog Override?<sup>*</sup></label>
                  <label for="demogOverriddenAction"></label>
                  <select id="demogOverriddenAction" name="demogOverridden" class="form-control selectpicker">
                    <option value="false">False</option>
                    <option value="true">True</option>
                  </select>
                  <span id="demogOverriddenErrorMsg" class="error field_err"></span>
                </div>
              </div>
              <div class="col-md-6 col-xs-12 card_hash_id">
                <div class="form-group">
                  <label>Primary Maskcard Number<sup>*</sup></label>
                  <label for="cardHashId"></label>
                  <select id="cardHashId" name="cardHashId" class="form-control enableSelect2" required></select>
                  <span id="cardIdErrorMsg" class="error field_err"></span>
                </div>
              </div>

              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label for="cardTypeCode"> Card Types<sup>*</sup></label>
                  <select id="cardTypeCode" value="${userDetails.cardTypeCode}" name="cardTypeCode"
                    class="form-control enableSelect2"></select>
                  <p id="cardTypeCodeErrorMsg" class="error field_err"></p>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label for="plasticId">Plastic Id<sup>*</sup></label>
                  <select id="plasticId" name="plasticId" class="form-control"></select>
                  <p id="plasticIdErrorMsg" class="error field_err"></p>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label for="logoId">Logo Id<sup>*</sup></label>
                  <select id="logoId" name="logoId" class="form-control"></select>
                  <p id="logoIdErrorMsg" class="error field_err"></p>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label>Preferred Card Holder Name</label>
                  <label for="embossing_line1"></label>
                  <input type="text" id="embossing_line1" name="embossing_line1" class="form-control empty" required />
                  <span id="cardHolderNameErrorMsg" class="error field_err"></span>
                </div>
              </div>

              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label for="currencyCode" class="control-label">Fee Currency<sup>*</sup></label>
                  <select id="currencyCode" name="currencyCode" class="form-control enableSelect2" required></select>
                  <p id="currencyErrorMsg" class="error field_err"></p>
                </div>
              </div>

              <div class="col-md-6 col-xs-12">
                <div class="form-group">
                  <label>Company Name</label>
                  <label for="embossing_line2"></label>
                  <input type="text" id="embossing_line2" name="embossing_line2" class="form-control empty" required />
                  <span id="companyNameErrorMsg" class="error field_err"></span>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label>First Name</label> <label for="action"></label>
                    <input type="text" id="first_name" name="firstName" class="form-control empty" required />
                    <span id="firstNameErrorMsg" class="error field_err"></span>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label>Middle Name</label> <label for="action"></label>
                    <input type="text" id="middle_name" name="middleName" class="form-control empty" required />
                    <span id="middleNameErrorMsg" class="error field_err"></span>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label>Last Name</label> <label for="action"></label>
                    <input type="text" id="last_name" name="lastName" class="form-control empty" required />
                    <span id="lastNameErrorMsg" class="error field_err"></span>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label>Email Id</label> <label for="action"></label>
                    <input type="text" id="email_id" name="emialId" class="form-control empty" required />
                    <span id="cardIdErrorMsg" class="error field_err"></span>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label for="countryCode">Country Code<sup>*</sup> </label>
                    <input type="hidden" id="countryCodeValueHold" value="${customer.countryCode}" />
                    <select id="countryCode" name="countryCode" class="form-control enableSelect2"
                      onchange="populatePhoneCode(this.id);"></select>
                    <p id="countryCodeError" class="error field_err">
                      ${error.countryCode}
                    </p>
                  </div>
                </div>
              </div>

              <div class="col-md-6 col-xs-12">
                <div class="card_hash">
                  <div class="form-group">
                    <label for="contactNumber">Mobile Number</label>
                    <div class="mobile_wrapper">
                      <input class="form-control" id="teleCode" readonly="readonly" name="mobileCode" />
                      <input class="form-control empty" id="contactNumber" disabled="disabled" name="mobileNumber"
                        value="${customer.contactNumber}" maxlength="21" onkeyup="isContactNumber(this);"
                        placeholder="" />
                    </div>
                    <span id="mobileNumberErrorMsg" class="error field_err">${error.contactNumber}</span>
                    <input type="hidden" name="countryPhoneCode" id="countryPhoneCode" />
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xs-12">
                <div class="expiry">
                  <div class="row">
                    <div class="col-lg-12 p-0">
                      <label class="full-width">Expiry Date<sup>*</sup></label>
                      <div class="">
                        <div class="form-group">
                          <div class="expiry_wrapper">
                            <select name="cc-exp-month" id="exp_month" class="form-control empty" required>
                              <option value="#" selected="selected">
                                MM
                              </option>
                              <option value="01">01</option>
                              <option value="02">02</option>
                              <option value="03">03</option>
                              <option value="04">04</option>
                              <option value="05">05</option>
                              <option value="06">06</option>
                              <option value="07">07</option>
                              <option value="08">08</option>
                              <option value="09">09</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>
                            </select>
                            <select id="exp_year" name="exp_year" class="form-control empty" required></select>
                          </div>
                          <span id="expMonthErrorMsg" class="error field_err"></span>
                          <span id="expYearErrorMsg" class="error field_err"></span>
                        </div>
                      </div>
                      <!-- /input-group -->
                    </div>
                    <!-- /.col-lg-6 -->
                  </div>
                  <!-- /.row -->
                </div>
              </div>
              <div class="col-md-12 col-xs-12 mt-4">
                <div class="form-group text-center">
                  <button id="addCardSubmitBtn" type="button" name="addCardSubmitBtn"
                    class="btn btn-success px-5 ripple">
                    Submit
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addReplacementCardModel" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title" id="title_card1">
            ADD Card ${userDetails.firstName} ${userDetails.middleName}
            ${userDetails.lastName}
          </h4>
        </div>

        <div class="modal-body">
          <form id="appReplacementCardUploadForm" method="POST">
            <h6 id="replaceCardTypeCodeErrorElement" class="error"></h6>

            <div class="col-md-6 col-xs-12">
              <div class="form-group">
                <label for="replaceCurrencyCode" class="control-label">Currency<sup>*</sup></label>
                <select id="replaceCurrencyCode" name="currencyCode" class="form-control enableSelect2"
                  required></select>
                <p id="replaceCurrencyErrorMsg" class="error field_err"></p>
              </div>
            </div>

            <div class="col-md-6 col-xs-12">
              <div class="expiry">
                <div class="row">
                  <div class="col-lg-12 p-0">
                    <label class="full-width">Expiry Date<sup>*</sup></label>
                    <div class="input-group">
                      <span class="input-group-addon">
                        <select name="cc-exp-month" id="replace_exp_month" class="form-control required">
                          <option value="#" selected="selected">MM</option>
                          <option value="01">01</option>
                          <option value="02">02</option>
                          <option value="03">03</option>
                          <option value="04">04</option>
                          <option value="05">05</option>
                          <option value="06">06</option>
                          <option value="07">07</option>
                          <option value="08">08</option>
                          <option value="09">09</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                        </select>
                        <span id="repalceExpMonthErrorMsg" class="error field_err"></span>
                      </span>
                      <div class="form-group">
                        <select id="replace_exp_year" name="exp_year" class="form-control required"></select>
                        <span id="replaceExpYearErrorMsg" class="error field_err"></span>
                      </div>
                    </div>
                    <!-- /input-group -->
                  </div>
                  <!-- /.col-lg-6 -->
                </div>
                <!-- /.row -->
              </div>
            </div>
            <div class="col-md-12 col-xs-12">
              <div class="form-group text-center">
                <button id="addReplaceCardSubmitBtn" type="button" name="addCardSubmitBtn" class="btn btn-success">
                  Submit
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="permanentBlockModel" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-dialog-sm">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">
            <c:out value="Block Card ${userDetails.firstName} ${userDetails.middleName} ${userDetails.lastName}" />
          </h4>
        </div>

        <div class="modal-body">
          <form id="permanentBlockCardUploadForm" method="POST">
            <div class="form-group">
              <select name="reason" id="reason" class="form-control required">
                <option value="fraud">Fraud</option>
                <option value="cardLost">Card Lost</option>
                <option value="cardStolen">Card Stolen</option>
                <option value="damaged">Damaged</option>
              </select>
              <span id="reason_error" class="error field_err"></span>
            </div>

            <div class="form-group">
              <label for="remarks" class="control-label sr-only">Remarks:</label>
              <input type="text" class="form-control" id="remarks" name="remarks" placeholder="Enter remarks" />
              <span id="remarks_error" class="error field_err"></span>
            </div>

            <div class="form-group text-center">
              <button id="permanentBlockSubmitBtn" type="button" name="permanentBlockSubmitBtn"
                class="btn btn-success px-5 ripple">
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- upload Card Process Model -->
  <div class="modal fade" id="cardProcessModel" role="dialog">
    <div class="modal-dialog modal-dialog-md modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="cardPorcessModelTitle"></h4>
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
        </div>

        <div class="modal-body">
          <div class="text-center">
            <h4 id="logoErrorMsg"></h4>
            <h4 class="success" id="successMessage">${successMessage}</h4>
            <h4 class="error" id="errorMessage">${errorMessage}</h4>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="card_accept_button" name="cardAcceptBtn"
                  class="btn btn-info btn-sm btn-block ripple" onclick="activateCard()">
                  Activate Card
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="replacement_card_button" name="replacementcardBtn"
                  class="btn btn-info btn-sm btn-block ripple"
                  onclick="replacementCard();getCurrencyCodeForReplaceCard();">
                  Replacement Card
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="temporary_block_button" name="softBlockBtn"
                  class="btn btn-info btn-sm btn-block ripple" onclick="temporaryBlockCard()">
                  Temporary Block Card
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="unblock_button" name="unBlockBtn" class="btn btn-info btn-sm btn-block ripple"
                  onclick="unBlockCard()">
                  Unblock Card
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="permanentBlock_button" name="permanentBlockBtn"
                  class="btn btn-info btn-sm btn-block ripple" onclick="permanentBlockCard()">
                  Permanent Block Card
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <button type="button" id="unmaskCard_button" name="unmaskCard_button"
                  class="btn btn-info btn-sm btn-block ripple" onclick="unMaskCard()">
                  Unmask Card
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <input type="hidden" id="complianceInitiatedCountryCode" name="complianceInitiatedCountryCode"
    value="${userDetails.complianceInitiatedCountryCode}" />
  <input type="hidden" id="complianceProfile" name="complianceProfile" value="${userDetails.complianceProfile}" />

  <!-- Address Modal -->
  <div id="addressModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Address Proof</h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <div class="addressTitleStyle">
                <h4>Billing Address</h4>
              </div>
              <div id="billingAddressDiv" class="addressStyle">
                <div class="form-group">
                  <label>Address1<sup>*</sup></label>
                  <textarea rows="3" cols="50" style="color: green" disabled id="billingAddress1" name="billingAddress1"
                    class="form-control"></textarea>
                </div>

                <div class="form-group">
                  <label>Address2</label>
                  <textarea rows="4" cols="50" style="color: green" disabled id="billingAddress2" name="billingAddress2"
                    class="form-control" escapeXml="true"></textarea>
                </div>

                <div class="form-group">
                  <label>Landmark</label>
                  <input type="text" style="color: green" disabled id="billingLandmark" name="billingLandmark"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label>Country</label>
                  <input type="text" style="color: green" disabled id="billingCountry" name="billingCountry"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label>State</label>
                  <input type="text" style="color: green" disabled id="billingState" name="billingState"
                    class="form-control" />
                </div>

                <div class="form-group">
                  <label>City<sup>*</sup></label>
                  <input type="text" style="color: green" disabled id="billingCity" name="billingCity"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label>ZIP Code<sup>*</sup></label>
                  <input type="text" style="color: green" disabled id="billingZipCode" name="billingZipCode"
                    class="form-control" />
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <div class="addressTitleStyle">
                <h4>Delivery Address</h4>
              </div>
              <div id="deliveryAddressDiv" class="addressStyle">
                <div class="form-group">
                  <label>Address1<sup>*</sup></label>
                  <textarea rows="3" cols="50" style="color: green" disabled id="deliveryAddress1"
                    name="deliveryAddress1" class="form-control"></textarea>
                </div>

                <div class="form-group">
                  <label>Address2</label>
                  <textarea rows="4" cols="50" style="color: green" disabled id="deliveryAddress2"
                    name="deliveryAddress2" class="form-control"></textarea>
                </div>

                <div class="form-group">
                  <label for="deliveryLandmark">Landmark</label>
                  <input type="text" style="color: green" disabled id="deliveryLandmark" name="deliveryLandmark"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label>Country</label>
                  <input type="text" style="color: green" disabled id="deliveryCountry" name="deliveryCountry"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label for="deliveryState">State</label>
                  <input type="text" style="color: green" disabled id="deliveryState" name="deliveryState"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label for="deliveryCity">City<sup>*</sup></label>
                  <input type="text" style="color: green" disabled id="deliveryCity" name="deliveryCity"
                    class="form-control" />
                </div>
                <div class="form-group">
                  <label for="deliveryZipCode">ZIP Code<sup>*</sup></label>
                  <input type="text" style="color: green" disabled id="deliveryZipCode" name="deliveryZipCode"
                    class="form-control" />
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
              <div class="addressTitleStyle">
                <h4>Correspondence Address</h4>
              </div>
              <div id="correspondenceAddressDiv" class="addressStyle">
                <div class="form-group">
                  <label for="correspondenceAddress1">Address1</label>
                  <textarea rows="3" cols="50" style="color: green" disabled id="correspondenceAddress1"
                    name="correspondenceAddress1" class="form-control"></textarea>
                </div>

                <div class="form-group">
                  <label for="correspondenceAddress2">Address2</label>
                  <textarea rows="4" cols="50" style="color: green" disabled id="correspondenceAddress2"
                    name="correspondenceAddress2" class="form-control"></textarea>
                </div>

                <div class="form-group">
                  <label for="correspondenceLandmark">Landmark</label>
                  <input type="text" style="color: green" disabled id="correspondenceLandmark"
                    name="correspondenceLandmark" class="form-control" />
                </div>
                <div class="form-group">
                  <label for="correspondenceCountry">Country</label>
                  <input type="text" style="color: green" disabled id="correspondenceCountry"
                    name="correspondenceCountry" class="form-control" />
                </div>
                <div class="form-group">
                  <label for="correspondenceState">State</label>
                  <input type="text" style="color: green" disabled id="correspondenceState" name="correspondenceState"
                    class="form-control" />
                </div>

                <div class="form-group">
                  <label for="correspondenceCity">City</label>
                  <input type="text" style="color: green" disabled id="correspondenceCity" name="correspondenceCity"
                    class="form-control" />
                </div>

                <div class="form-group">
                  <label for="correspondenceZipCode">ZIP Code</label>
                  <input type="text" style="color: green" disabled id="correspondenceZipCode"
                    name="correspondenceZipCode" class="form-control" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Customer history -->
  <div id="customerHistoryModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 70%">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Customer History</h4>
        </div>
        <div class="modal-body" id="customerHistoryModalBody">
          <div id="customerHistoryTableDiv" class="table-responsive" style="max-height: 70vh; overflow: auto">
            <table id="customerHistoryTable" class="table table-bordered">
              <thead>
                <tr>
                  <th id="ch_firstName">First Name</th>
                  <th id="ch_middleName">Middle Name</th>
                  <th id="ch_lastName">Last Name</th>
                  <th id="ch_dob">DOB</th>
                  <th id="ch_mobile">Mobile</th>
                  <th id="ch_email">Email</th>
                  <th id="ch_kyc_status">KYC Status</th>
                  <th id="ch_remark">Remark</th>
                  <th id="ch_complianceId">Compliance Id</th>
                  <th id="ch_updatedAt">Updated Date</th>
                  <th id="ch_updatedBy">Updated By</th>
                </tr>
              </thead>
              <tbody id="customerHistoryTableBody">
                <tr>
                  <td>Subhasmita</td>
                  <td></td>
                  <td>Biswal</td>
                  <td style="white-space: nowrap">01-01-2021</td>
                  <td>9807387433</td>
                  <td>info@gmail.com</td>
                  <td>MANUAL_KYC</td>
                  <td>Remark</td>
                  <td>123456</td>
                  <td>2021-05-10</td>
                  <td>Demo</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Address history -->
  <div id="customerAddressHistoryModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 70%">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Address History</h4>
        </div>
        <div class="modal-body" id="customerAddressHistoryModalBody">
          <div id="customerAddressHistoryTableDiv" class="table-responsive" style="max-height: 70vh; overflow: auto">
            <table id="customerAddressHistoryTable" class="table table-bordered">
              <thead>
                <tr>
                  <th id="cah_address1">Address Line1</th>
                  <th id="cah_address2">Address Line2</th>
                  <th id="cah_city">City</th>
                  <th id="cah_state">State</th>
                  <th id="cah_zipCode">Zip Code</th>
                  <th id="cah_country">Country</th>
                  <th id="cah_customerAddressType">Address Type</th>
                  <th id="cah_updatedAt">Updated Date</th>
                  <th id="cah_updatedBy">Updated By</th>
                </tr>
              </thead>
              <tbody id="customerAddressHistoryTableBody">
                <tr>
                  <td>Address1</td>
                  <td>Address2</td>
                  <td>Bangalore</td>
                  <td>Karnataka</td>
                  <td>987654</td>
                  <td>India</td>
                  <td>Present</td>
                  <td>2021-05-10</td>
                  <td>Demo</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Comment Modal -->
  <div id="addCommentModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Add Comment</h4>
        </div>
        <div class="modal-body">
          <form enctype="multipart/form-data" id="testComment">
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="commentType" class="control-label">Comment Type<sup>*</sup></label>
                  <select id="commentType" name="commentType" class="form-control selectpicker">
                    <option value="">Select a Comment Type</option>
                    <option value="">Unathorized Transaction</option>
                    <option value="">Delivery Issue</option>
                    <option value="">Visa GCAS</option>
                    <option value="">Wallet</option>
                    <option value="">App Issue</option>
                    <option value="">Onboarding/ Activation query</option>
                    <option value="">Lost & Stolen</option>
                    <option value="">Transaction</option>
                    <option value="">Charge Dispute(fee/Cost)</option>
                    <option value="">Change Selected Card</option>
                    <option value="">Card Block/ Unblock</option>
                  </select>
                  <span id="commentTypeError" class="error field_err"></span>
                </div>
              </div>
              <div class="col-md-12 mb-2">
                <div class="form-group">
                  <label>Add Comment<sup>*</sup></label>
                  <label for="add_Comment"></label>
                  <textarea rows="2" class="form-control" name="addComment" id="add_Comment" placeholder="Enter Comment"
                    maxlength="250"></textarea>
                  <span id="remainingChar" style="display: block; text-align: right"></span>
                  <span id="addCommentError" class="error field_err"></span>
                </div>
              </div>
              <div class="col-md-12">
                <div class="form-group text-center">
                  <button id="commentSubmitBtn" name="commentSubmitBtn" type="button"
                    class="btn btn-success px-5 ripple">
                    Submit
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- View Comment Model -->
  <div id="commentsModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title pull-left">Comments History</h4>
          <p class="pull-right" style="margin-bottom: 0">
            <strong>Total Comment:</strong>
            <span id="commentsCounter">0</span>
          </p>
        </div>
        <div class="modal-body" id="customerComment">
          <div class="commentsWrapper" id="customerComments">
            <div class="singl_comment mb-3">
              <div>
                <strong>21/01/2020 22:38:49 AEST</strong>
                - Ganesh Nair
              </div>
              <div>Test Comment HereTest Comment HereTest Comment Here</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Starts Here -->
  <!-- Add Card Success Modal -->
  <div class="modal fade" id="addCard_successModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card Added Successfully!!</h4>
              <div class="text-center">
                <button type="button" id="cardActivation_successModal" class="btn btn-success px-5 ripple"
                  data-dismiss="modal" onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Card Activation Success Modal -->
  <div class="modal fade" id="cardActivation_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card activated successfully</h4>
              <div class="text-center">
                <button type="button" id="cardActivation_successModal" class="btn btn-success px-5 ripple"
                  data-dismiss="modal" onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Temp_Block Card Success Modal -->
  <div class="modal fade" id="tempBlock_Card_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card Temporarily Blocked!!</h4>
              <div class="text-center">
                <button type="button" id="cardActivation_successModal" class="btn btn-success px-5 ripple"
                  data-dismiss="modal" onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Temp_Block Card Success Modal -->
  <div class="modal fade" id="demog_update_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Demographic updated successfully</h4>
              <div class="text-center">
                <button type="button" id="cardActivation_successModal" class="btn btn-success px-5 ripple"
                  data-dismiss="modal" onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Unblock Card Success Modal -->
  <div class="modal fade" id="unblockCard_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card Successfully Unblocked!!</h4>
              <div class="text-center">
                <button type="button" id="successModal" class="btn btn-success px-5 ripple" data-dismiss="modal"
                  onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Replace Card Success Modal -->
  <div class="modal fade" id="replaceCard_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card Successfully Replaced!!</h4>
              <div class="text-center">
                <button type="button" id="successModal" class="btn btn-success px-5 ripple" data-dismiss="modal"
                  onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Permanently Blocked Success Modal -->
  <div class="modal fade" id="card_p_Block_success" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="mb-4">Card Permanently Blocked!!</h4>
              <div class="text-center">
                <button type="button" id="successModal" class="btn btn-success px-5 ripple" data-dismiss="modal"
                  onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Permanently Blocked Success Modal -->
  <div class="modal fade" id="unmaskCard_success_modal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="unmask_body_status mb-4"></h4>
              <div class="text-center">
                <button type="button" id="successModal" class="btn btn-success px-5 ripple" data-dismiss="modal"
                  onclick="generateCardsTable()">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="success_refundNotification" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/source.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="refunded_body mb-4"></h4>
              <div class="text-center">
                <button type="button" id="successModal" class="btn btn-success px-5 ripple" data-dismiss="modal">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="error_refundNotification" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/x.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="refunded_body mb-4"></h4>
              <div class="text-center">
                <button type="button" class="btn btn-danger px-5 ripple" data-dismiss="modal">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="error_addCardModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center">
            <img src="assets/img/x.gif" style="
                  width: 140px;
                  margin-top: -91px;
                  margin-bottom: 10px;
                  position: relative;
                " alt="" />
            <div>
              <h4 class="error_addCard mb-4"></h4>
              <div class="text-center">
                <button type="button" class="btn btn-danger px-5 ripple" data-dismiss="modal" onclick="reOpenModal();">
                  OK
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Demographic Update Modal -->
  <div class="modal fade" id="demographicUpdateModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-dialog-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title" id="demographic_title" style="width: 100%">
            Update Demographic Details
          </h4>
          <div class="demographicHeadDetails">
            <div class="demographicHeadDetails_items">
              <div class="item">
                <h5>First name:</h5>
                <h5 id="firstName"></h5>
              </div>
              <div class="item">
                <h5>Last name:</h5>
                <h5 id="lastName"></h5>
              </div>
              <div class="item">
                <h5>Email ID:</h5>
                <h5 id="emailId"></h5>
              </div>
              <div class="item">
                <h5>Mobile:</h5>
                <h5 id="mobile"></h5>
              </div>
              <div class="item">
                <h5>Address Line1:</h5>
                <h5 id="addressLine1"></h5>
              </div>
            </div>
            <div class="demographicHeadDetails_items">
              <div class="item">
                <h5>Address Line2:</h5>
                <h5 id="addressLine2"></h5>
              </div>
              <div class="item">
                <h5>City:</h5>
                <h5 id="city"></h5>
              </div>
              <div class="item">
                <h5>Country Code:</h5>
                <h5 id="country_code"></h5>
              </div>
              <div class="item">
                <h5>Nationality:</h5>
                <h5 id="nationality"></h5>
              </div>
              <div class="item">
                <h5>Postal Code:</h5>
                <h5 id="postalCode"></h5>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-body">
          <div id="demographicUpdateHiddenFields">
            <input type="hidden" id="demographicUpdateCardNumber" name="demographicUpdateCardNumber" value="" />
          </div>
          <div class="row">
            <div class="col-md-6 col-xs-12">
              <div class="form-group">
                <label for="countryCode">Mobile country code<sup>*</sup>
                </label>
                <input type="hidden" id="countryCodeListValueHold" />
                <select id="countryCodeList" name="countryCodeList" class="form-control enableSelect2"
                  onchange="populatePhoneCodeValue(this.id);"></select>
                <p id="countryCodeError" class="error field_err"></p>
              </div>
            </div>

            <div class="col-md-6 col-xs-12">
              <div class="form-group">
                <label for="contactNumber">Mobile number</label>
                <div class="demog_mobile_wrapper">
                  <label for="telephoneCode"></label>
                  <input class="form-control" id="telephoneCode" readonly="readonly" name="mobileCode"
                    style="width: 35%" />
                  <input class="form-control" id="mobileNumber" name="mobileNumber" disabled="disabled" maxlength="21"
                    onkeyup="isContactNumber(this);" />
                </div>
                <span id="mobileNumberErrorMsg" class="error field_err"></span>
              </div>
            </div>

            <div class="col-lg-6 col-sm-6 col-xs-12">
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="" class="form-control demographicUpdateRequired" />
                <span class="error field_err" id="errorEmail"></span>
              </div>
            </div>

            <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="form-group text-center">
                <button type="button" id="demographicUpdateSubmitBtn" name="demographicUpdateSubmitBtn"
                  class="btn btn-primary px-5 ripple" onclick="validateDemographicUpdateFields();">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Embosser Update Modal -->
  <div class="modal fade" id="embosserUpdateModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title" id="embosser_title" style="width: 100%">
            Update Embosser Details
          </h4>
          <h5 class="modal-title" id="embossedName1"></h5>
          <h5 class="modal-title" id="embossedName2"></h5>
          <h5 class="modal-title" id="address_line1"></h5>
          <h5 class="modal-title" id="address_line2"></h5>
          <h5 class="modal-title" id="embosser_city"></h5>
          <h5 class="modal-title" id="embosser_state"></h5>
          <h5 class="modal-title" id="postal_code"></h5>
          <h5 class="modal-title" id="plastic_id"></h5>
          <h5 class="modal-title" id="digitalId"></h5>
        </div>
        <div class="modal-body">
          <div id="embosserUpdateHiddenFields">
            <input type="hidden" id="embosserUpdateCardNumber" name="embosserUpdateCardNumber" value="" />
          </div>
          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="deliveryAddress1">Delivery Address1<sup>*</sup></label>
                <textarea rows="3" cols="50" id="embosserDeliveryAddress1" name="deliveryAddress1" value=""
                  class="form-control embosserUpdateRequired"></textarea>
                <span class="error field_err" id="errorDeliveryAddress1"></span>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="deliveryAddress2">Delivery Address2</label>
                <textarea rows="3" cols="50" id="embosserDeliveryAddress2" name="deliveryAddress2" value=""
                  class="form-control embosserUpdateRequired"></textarea>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="deliveryCity">City<sup>*</sup></label>
                <input type="text" id="embosserDeliveryCity" name="deliveryCity" value=""
                  class="form-control embosserUpdateRequired" />
                <span class="error field_err" id="errorDeliveryCity"></span>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="deliveryState">Zip code</label>
                <input type="text" id="embosserDeliveryZipCode" name="deliveryZipCode" value=""
                  class="form-control embosserUpdateRequired" />
                <span class="error field_err" id="errorDeliveryState"></span>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="embosser_Line1">Embossing Line1</label>
                <input type="text" id="embosser_Line1" name="embossingLine1" value=""
                  class="form-control embosserUpdateRequired" />
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="form-group">
                <label for="embosser_Line1">Embossing Line2</label>
                <input type="text" id="embosser_Line2" name="embossingLine2" value=""
                  class="form-control embosserUpdateRequired" />
              </div>
            </div>

            <div class="col-lg-12 col-sm-12 col-xs-12">
              <div class="form-group text-center">
                <button type="button" id="embosserUpdateSubmitBtn" name="embosserUpdateSubmitBtn"
                  class="btn btn-primary px-5 ripple" onclick="validateEmbosserUpdateFields();">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Embosser Update Modal -->
  <div class="modal fade" id="declineTrxnModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-xl modal-dialog-centered">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title" id="embosser_title">
            Outstanding Auth Details
          </h4>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Sl No.</th>
                  <th>Local Date</th>
                  <th>Local Time</th>
                  <th>Billing Amount</th>
                  <th>Billing Currency</th>
                  <th>Masked Card Number</th>
                  <th>Reason Description</th>
                  <th>Action</th>
                  <th>Authorization Code</th>
                  <th>Authorization Type</th>
                  <th>Category Code</th>
                  <th>Category Description</th>
                  <th>Merchant Location</th>
                  <th>Transaction Type</th>
                  <th>Transaction Description</th>
                  <th>Terminal ID</th>
                  <th>Pan Entry Description</th>
                  <th>Action Reason</th>
                  <th>System Action</th>
                  <th>Input Source</th>
                </tr>
              </thead>
              <tbody id="outstandingAuthInfo"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- START PRELOADS -->
  <audio id="audio-alert" src="assets/audio/alert.mp3" preload="auto"></audio>
  <audio id="audio-fail" src="assets/audio/fail.mp3" preload="auto"></audio>
  <!-- END PRELOADS -->

  <!-- START SCRIPTS -->
  <!-- START PLUGINS -->
  <script type="text/javascript" src="assets/js/plugins/jquery/jquery.min.js?version=3.5.1"></script>
  <script type="text/javascript" src="assets/js/plugins/jquery/jquery-ui.min.js?version=1.12.1"></script>
  <script type="text/javascript" src="assets/js/plugins/bootstrap/bootstrap.min.js"></script>
  <script type="text/javascript" src="assets/js/plugins/bootstrap/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="assets/js/plugins/moment.min.js?version=2.29.0"></script>
  <script type="text/javascript" src="assets/js/settings.js"></script>
  <script type="text/javascript" src="assets/js/actions.js"></script>
  <script type="text/javascript" src="assets/js/generateTableWithNonClickableRows.js"></script>
  <script type="text/javascript" src="assets/js/plugins/twbsPagination/jquery.twbsPagination.min.js"></script>
  <script type="text/javascript" src="assets/js/plugins/select2/select2.full.min.js"></script>
  <script type="text/javascript" src="assets/js/plugins/mcustomscrollbar/jquery.mCustomScrollbar.min.js"></script>
  <script type="text/javascript" src="assets/js/loader.js"></script>
  <!-- END TEMPLATE -->

  <!-- Datepicker Init -->
  <script type="text/javascript" src="assets/js/datepickerInit/uploadSgDocument.js"></script>
  <script type="text/javascript" src="assets/js/datepickerInit/uploadAuDocuments.js"></script>
  <script type="text/javascript" src="assets/js/datepickerInit/uploadEuDocuments.js"></script>
  <script type="text/javascript" src="assets/js/datepickerInit/uploadHkDocuments.js"></script>
  <!-- END SCRIPTS -->

  <script>
    $("#customerHistory").click(function () {
      $("#customerHistoryModal").modal("show");
    });
    $("#customerAddressHistory").click(function () {
      $("#customerAddressHistoryModal").modal("show");
    });

    $("#getAddressList").click(function () {
      $("#customerAddressHistoryModal").modal("show");
    });

    $("#getCommentData").click(function () {
      $("#commentsModal").modal("show");
    });

    $("#addCommentData").click(function () {
      $("#addCommentModal").modal("show");
    });
  </script>

  <!-- <script type="text/javascript">
      var logoIdArray = [];
      var spinnerUrl = "<i class='fas fa-spinner fa-spin'></i> Please Wait...";
      var countryListObject;

      $(document).ready(function () {
        fetchCommentTypeUrl();

        var commentLen = 0;
        var maxComment = 250;

        $('textarea[name="addComment"]').keyup(function () {
          commentLen = this.value.length;
          if (commentLen > maxComment) {
            return false;
          } else if (commentLen > 0) {
            $("#remainingChar").html(
              "Remaining characters: " +
                (maxComment - commentLen) +
                "/" +
                maxComment
            );
          } else {
            $("#remainingChar").html("");
          }
        });
        var customerStatus = $("#customerStatus").val();
        if (customerStatus === "Active") {
          $("#blockUserButtonDIV").css({
            display: "",
          });
          $("#suspendUserButtonDIV").css({
            display: "",
          });
        } else if (customerStatus === "Suspend") {
          $("#resumeUserButtonDIV").css({
            display: "",
          });
        } else {
          $("#blockUserButtonDIV").css({
            display: "none",
          });
          $("#suspendUserButtonDIV").css({
            display: "none",
          });
          $("#resumeUserButtonDIV").css({
            display: "none",
          });
        }

        var clientCode = $("#clientCode").val();
        $.ajax({
          type: "GET",
          contentType: "application/json",
          url: $("#getClientByClientCodeUrl").val() + clientCode,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            data = sanitize(unSanitize(data));

            $("#clientName").html(data.name);
            $("#client_code").html(data.clientCode);
            $("#companyName").val(data.name);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      });

      document
        .getElementById("copy_client_btn")
        .addEventListener("click", copy_clientHashId);

      function copy_clientHashId() {
        let copyText = document.getElementById("copy_client_text");
        let textArea = document.createElement("textarea");
        textArea.value = copyText.textContent;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("Copy");
        textArea.remove();
      }

      document
        .getElementById("copy_wallet_btn")
        .addEventListener("click", copy_walletHashId);

      function copy_walletHashId() {
        let copyText = document.getElementById("copy_wallet_text");
        let textArea = document.createElement("textarea");
        textArea.value = copyText.textContent;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("Copy");
        textArea.remove();
      }

      document
        .getElementById("copy_customer_btn")
        .addEventListener("click", copy_customerHashId);

      function copy_customerHashId() {
        let copyText = document.getElementById("copy_customer_text");
        let textArea = document.createElement("textarea");
        textArea.value = copyText.textContent;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("Copy");
        textArea.remove();
      }

      function getYearDD(elementId) {
        var currentYear = new Date().getFullYear() + "";
        var year = currentYear.substring(2);
        var optionTags = "<option value = '#'>year</option>";
        var yearInNumericFormat = eval(year);
        for (var i = 1; i <= 6; i++) {
          optionTags +=
            "<option value = '" +
            yearInNumericFormat +
            "'>" +
            yearInNumericFormat +
            "</option>";
          yearInNumericFormat++;
        }
        document.getElementById(elementId).innerHTML = optionTags;
      }

      function getYearDDForReplace(elementId) {
        var currentYear = new Date().getFullYear() + "";
        var year = currentYear.substring(2);
        var optionTags = "<option value = '#'>year</option>";
        var yearInNumericFormat = eval(year);
        for (var i = 1; i <= 6; i++) {
          optionTags +=
            "<option value = '" +
            yearInNumericFormat +
            "'>" +
            yearInNumericFormat +
            "</option>";
          yearInNumericFormat++;
        }
        document.getElementById(elementId).innerHTML = optionTags;
      }

      function generateCardsTable() {
        $("#userDetailsTable").attr(
          "class",
          "table table-bordered table-striped table-condensed myTable"
        );
        generateCardListTable(0);
      }

      function openAddCardModel() {
        $("#cardTypeCodeErrorMsg").html("");
        $("#expMonthErrorMsg").html("");
        $("#expYearErrorMsg").html("");
        $("#plasticIdErrorMsg").html("");
        $("#cardHolderNameErrorMsg").html("");
        $("#companyNameErrorMsg").html("");
        $("#logoIdErrorMsg").html("");
        $("#currencyErrorMsg").html("");
        $("#cardTypeErrorMsg").html("");
        var companyName = $("#companyName").val();
        $("#addCard_button").attr("disabled", true);

        $.ajax({
          url: "${pageContext.request.contextPath}/card/cardTypeList",
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            $("#addCard_button").attr("disabled", false);
            var optionTag = "<option value = ''>Select an option</option>";
            if (
              result != null &&
              result !== "" &&
              result !== "[]" &&
              result.data.length > 0
            ) {
              for (var i = 0; i < result.data.length; i++) {
                var eachOption = result.data[i];
                optionTag +=
                  "<option value = " +
                  eachOption.Code +
                  ">" +
                  eachOption.Name +
                  " (" +
                  eachOption.Code +
                  ")" +
                  "</option>";
              }
              $("#cardTypeCode").html(optionTag);
              $(".enableSelect2").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });
              if (
                $("#cardTypeCodeValueHold").val() != null &&
                $("#cardTypeCodeValueHold").val() !== ""
              ) {
                $("#cardTypeCode").val($("#cardTypeCodeValueHold").val());
                $("#cardTypeCode").trigger("change");
              }
            } else {
              $("#cardTypeCode").html(optionTag);
              $(".enableSelect2").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });

        $("#cardTypeCodeErrorElement").html("");
        $("#embossing_line2").val("");
        $("#exp_month").val("#");
        $("#exp_year").val("#");

        $("#addCardModel").modal("show");

        $("#cardTypeCode")
          .change(function () {
            var cardtype = $("#cardTypeCode").val();
            if (cardtype == null || cardtype === "GPR_PHY") {
              $(".expiry").hide();
            } else {
              $(".expiry").show();
            }
          })
          .change();
      }

      function getPlasticIdListOfClient() {
        var clientCode = $("#clientCode").val();
        $.ajax({
          url: $("#getPlasticIdUrl").val() + clientCode,
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var optionTagPlastic = "<option value = ''></option>";
            if (
              result != null &&
              result !== "" &&
              result !== "[]" &&
              result.length > 0
            ) {
              for (var i = 0; i < result.length; i++) {
                var eachOption = result[i];
                optionTagPlastic +=
                  "<option value = " +
                  eachOption.plasticId +
                  ">" +
                  eachOption.plasticId +
                  " (" +
                  eachOption.description +
                  ")" +
                  "</option>";
              }
              $("#plasticId").html(optionTagPlastic);
              $("#plasticId").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });

              if (
                $("#plasticIdValueHold").val() != null &&
                $("#plasticIdValueHold").val() !== ""
              ) {
                $("#plasticId").val($("#plasticIdValueHold").val());
                $("#plasticId").trigger("change");
              }
            } else {
              var optionTag = "<option value = ''></option>";
              $("#plasticId").html(optionTag);
              $("#plasticId").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });
            }
          },
          error: function (data) {
            data = sanitize(unSanitize(data));
            if (data.readyState === 0) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(
                "service is temporarily down,please try again later."
              );
            }
            if (data.status === 500) {
              var responseMessage = JSON.parse(data.responseText);
              var message = responseMessage.message;
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(message);
            } else if (data.status === 400) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(data.responseText);
            } else {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(data.responseText);
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function getLogoIdOfClient() {
        var clientCode = $("#clientCode").val();
        $.ajax({
          url: $("#getLogoListUrl").val() + "client/" + clientCode + "/logos",
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var optionTag = "<option value = ''></option>";
            if (
              result != null &&
              result !== "" &&
              result !== "[]" &&
              result.length > 0
            ) {
              logoIdArray = result;
              for (var i = 0; i < result.length; i++) {
                var eachOption = result[i];
                optionTag +=
                  "<option value = " +
                  eachOption.logoIdentifier +
                  ">" +
                  eachOption.logoId +
                  " (" +
                  eachOption.description +
                  ")" +
                  "</option>";
              }
              $("#logoId").html(optionTag);
              $("#logoId").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });

              if (
                $("#logoIdValueHold").val() != null &&
                $("#logoIdValueHold").val() !== ""
              ) {
                $("#logoId").val($("#logoIdValueHold").val());
                $("#logoId").trigger("change");
              }
            } else {
              $("#logoId").html(optionTag);
              $("#logoId").select2({
                placeholder: "Select an option",
                allowClear: false,
                dropdownAutoWidth: false,
                width: "100%",
                dropdownCss: {
                  width: "inherit",
                },
              });
            }
          },
          error: function (data) {
            data = sanitize(unSanitize(data));
            if (data.readyState === 0) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(
                "service is temporarily down,please try again later."
              );
            }
            if (data.status === 500) {
              var responseMessage = JSON.parse(data.responseText);
              var message = responseMessage.message;
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(message);
            } else if (data.status === 400) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(data.responseText);
            } else {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(data.responseText);
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function getCurrencyCode() {
        var optionTag = "";
        var client_code = $("#clientCode").val();
        $("#currencyCode").children("option").remove();
        $("#currencyCode").empty();
        $("#currencyCode").val(null).trigger("change");
        $.ajax({
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          contentType: "application/json",
          url: $("#currencyListClientUrl").val() + client_code,
          dataType: "json",
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            if (result != null) {
              for (var i = 0; i < result.length; i++) {
                var eachOption = result[i];
                if (
                  eachOption.curSymbol !== "" &&
                  eachOption.curSymbol != null &&
                  eachOption.curSymbol !== "null" &&
                  eachOption.curSymbol !== ""
                ) {
                  optionTag +=
                    "<option value = " +
                    eachOption.curSymbol +
                    ">" +
                    eachOption.curSymbol +
                    "</option>";
                }
              }
              $("#currencyCode").html(optionTag);
              $("#currencyCode").select2({
                placeholder: "Select an option",
                allowClear: false,
                width: "100%",
                dropdownAutoWidth: false,
                dropdownCss: {
                  width: "inherit",
                },
              });
              if (
                $("#currencyCodeValueHold").val() != null &&
                $("#currencyCodeValueHold").val() != ""
              ) {
                $("#currencyCode").val($("#currencyCodeValueHold").val());
                $("#currencyCode").trigger("change");
              }
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function getCurrencyCodeForReplaceCard() {
        var optionTag = "";
        var client_code = $("#clientCode").val();
        $("#replaceCurrencyCode").children("option").remove();
        $("#replaceCurrencyCode").empty();
        $("#replaceCurrencyCode").val(null).trigger("change");
        $.ajax({
          type: "GET",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          contentType: "application/json",
          url: $("#currencyListClientUrl").val() + client_code,
          dataType: "json",
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            if (result != null) {
              for (var i = 0; i < result.length; i++) {
                var eachOption = result[i];
                if (
                  eachOption.curSymbol !== "" &&
                  eachOption.curSymbol != null &&
                  eachOption.curSymbol !== "null" &&
                  eachOption.curSymbol !== ""
                ) {
                  optionTag +=
                    "<option value = " +
                    eachOption.curSymbol +
                    ">" +
                    eachOption.curSymbol +
                    "</option>";
                }
              }
              $("#replaceCurrencyCode").html(optionTag);
              $("#replaceCurrencyCode").select2({
                placeholder: "Select an option",
                allowClear: false,
                width: "100%",
                dropdownAutoWidth: false,
                dropdownCss: {
                  width: "inherit",
                },
              });
              if (
                $("#replaceCurrencyCodeValueHold").val() != null &&
                $("#replaceCurrencyCodeValueHold").val() != ""
              ) {
                $("#replaceCurrencyCode").val(
                  $("#replaceCurrencyCodeValueHold").val()
                );
                $("#replaceCurrencyCode").trigger("change");
              }
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function validateCard() {
        var valid = true;
        var cardTypeCode = $("#cardTypeCode").val();
        var plasticId = $("#plasticId").val();
        var cardType = $("#action").val();
        var logoId = $("#logoId").val();
        var currency = $("#currencyCode").val();
        var cardId = $("#cardHashId").val();
        if (
          cardTypeCode == null ||
          cardTypeCode == "" ||
          cardTypeCode == "null"
        ) {
          valid = false;
          $("#cardTypeCodeErrorMsg").html("Please select card type!");
        } else {
          if (cardTypeCode != "GPR_PHY") {
            if (
              $("#exp_month").val() == null ||
              $("#exp_month").val() == "" ||
              $("#exp_month").val() == "null"
            ) {
              valid = false;
              $("#expMonthErrorMsg").html("Please select expiry month!");
            }

            if (
              $("#exp_year").val() == null ||
              $("#exp_year").val() == "" ||
              $("#exp_year").val() == "null"
            ) {
              valid = false;
              $("#expYearErrorMsg").html("Please select expiry year!");
            }
          }
        }
        if (plasticId == null || plasticId == "" || plasticId == "null") {
          valid = false;
          $("#plasticIdErrorMsg").html("Please select plastic Id!");
        }
        if (logoId == null || logoId == "" || logoId == "null") {
          valid = false;
          $("#logoIdErrorMsg").html("Please select logo Id!");
        }

        if (currency == null || currency == "" || currency == "null") {
          valid = false;
          $("#currencyErrorMsg").html("Please select currency!");
        }

        if (cardType == null || cardType == "" || cardType == "null") {
          valid = false;
          $("#cardTypeErrorMsg").html("Please select card type!");
        }
        if (action === "ADD_ON") {
          if (cardId == null || cardId == "" || cardId == "null") {
            valid = false;
            $("#cardIdErrorMsg").html("please enter Card Id");
          }
        }
        setTimeout(function () {
          $("#cardIdErrorMsg").html("");
          $("#cardTypeErrorMsg").html("");
          $("#currencyErrorMsg").html("");
          $("#logoIdErrorMsg").html("");
          $("#plasticIdErrorMsg").html("");
          $("#expMonthErrorMsg").html("");
          $("#expYearErrorMsg").html("");
          $("#cardTypeCodeErrorMsg").html("");
        }, 3000);
        return valid;
      }

      function showConfirmation(event) {
        $("#blockType").val($("#" + event.target.id).val());

        if ($("#" + event.target.id).val() === "Blocked") {
          $("#confirmationMsgContent").html(
            "A blocked user can not be unblocked again!"
          );
        } else if ($("#" + event.target.id).val() === "Active") {
          $("#confirmationMsgContent").html(
            "Resuming a user will make all the services active!"
          );
        } else {
          $("#confirmationMsgContent").html(
            "Suspending a user will temporarly make all the services inactive!"
          );
        }
        $("#confirmationModel").modal("show");
      }

      //history
      function getCustomerHistory() {
        $("#customerHistory").attr("disabled", true);
        $("#customerHistory").html(spinnerUrl);
        $("#customerHistoryTableBody").html(spinnerUrl);
        var customerHashId = $("#customerHashId").val();
        var clientCode = $("#clientCode").val();
        var url = $("#customerHistoryUrl").val() + customerHashId + "/history";
        $.ajax({
          type: "GET",
          url: url,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var tbody = "";
            if (result.length == 0) {
              tbody += "<tr>";
              tbody +=
                "<td colspan = 10 style='text-align:center;'>No Records Found !</td>";
              tbody += "</tr>";
            }
            for (var i = 0; i < result.length; i++) {
              //populate data here
              var history = result[i];
              var firstName =
                history.firstName == null || history.firstName == ""
                  ? ""
                  : history.firstName;
              var middleName =
                history.middleName == null || history.middleName == ""
                  ? ""
                  : history.middleName;
              var lastName =
                history.lastName == null || history.lastName == ""
                  ? "NA"
                  : history.lastName;
              var dateOfBirth =
                history.dateOfBirth == null || history.dateOfBirth == ""
                  ? ""
                  : history.dateOfBirth;
              var mobile =
                history.mobile == null || history.mobile == ""
                  ? ""
                  : history.mobile;
              var email =
                history.email == null || history.email == ""
                  ? ""
                  : history.email;
              var status =
                history.status == null || history.status == ""
                  ? ""
                  : history.status;
              var remarks =
                history.remarks == null || history.remarks == ""
                  ? ""
                  : history.remarks;
              var complianceId =
                history.complianceId == null || history.complianceId == ""
                  ? ""
                  : history.complianceId;
              var updatedAt =
                history.updatedAt == null || history.updatedAt == ""
                  ? ""
                  : history.updatedAt;
              var updatedBy =
                history.updatedBy == null || history.updatedBy == ""
                  ? ""
                  : history.updatedBy;

              tbody += "<tr>";
              tbody += "<td class='nw'>" + firstName + "</td>";
              tbody += "<td class='nw'>" + middleName + "</td>";
              tbody += "<td class='nw'>" + lastName + "</td>";
              tbody += "<td class='nw'>" + dateOfBirth + "</td>";
              tbody += "<td class='nw'>" + mobile + "</td>";
              tbody += "<td class='nw'>" + email + "</td>";
              tbody += "<td class='nw'>" + status + "</td>";
              tbody += "<td class='nw'>" + remarks + "</td>";
              tbody += "<td class='nw'>" + complianceId + "</td>";
              tbody += "<td class='nw'>" + updatedAt + "</td>";
              tbody += "<td class='nw'>" + updatedBy + "</td>";
              tbody += "</tr>";
            }
            $("#customerHistoryTableBody").html(tbody);
          },
          error: function (xhr) {
            xhr = sanitize(unSanitize(xhr));
            var tbody = "";
            tbody += "<tr>";
            tbody +=
              "<td colspan = 10 style='text-align:center;'>No Records Found !</td>";
            tbody += "</tr>";
            $("#customerHistoryTableBody").html(tbody);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);

            $("#customerHistoryModal").modal("show");
            $("#customerHistory").attr("disabled", false);
            $("#customerHistory").html("Customer History");
          },
        });
      }

      //history
      function getCustomerAddressHistory() {
        $("#customerAddressHistory").attr("disabled", true);
        $("#customerAddressHistory").html(spinnerUrl);
        $("#customerAddressHistoryTableBody").html(spinnerUrl);
        var customerHashId = $("#customerHashId").val();
        var clientCode = $("#clientCode").val();
        var url =
          $("#customerAddressHistoryUrl").val() +
          customerHashId +
          "/address/history";
        $.ajax({
          type: "GET",
          url: url,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var tbody = "";
            if (result.length == 0) {
              tbody += "<tr>";
              tbody +=
                "<td colspan = 10 style='text-align:center;'>No Records Found !</td>";
              tbody += "</tr>";
            }
            for (var i = 0; i < result.length; i++) {
              //populate data here
              var history = result[i];
              var address1 =
                history.address1 == null || history.address1 == ""
                  ? ""
                  : history.address1;
              var address2 =
                history.address2 == null || history.address2 == ""
                  ? ""
                  : history.address2;
              var city =
                history.city == null || history.city == "" ? "" : history.city;
              var state =
                history.state == null || history.state == ""
                  ? ""
                  : history.state;
              var zipCode =
                history.zipCode == null || history.zipCode == ""
                  ? ""
                  : history.zipCode;
              var country =
                history.country == null || history.country == ""
                  ? ""
                  : history.country;
              var customerAddressType =
                history.customerAddressType == null ||
                history.customerAddressType == ""
                  ? ""
                  : history.customerAddressType;
              var updatedAt =
                history.updatedAt == null || history.updatedAt == ""
                  ? ""
                  : history.updatedAt;
              var updatedBy =
                history.updatedBy == null || history.updatedBy == ""
                  ? ""
                  : history.updatedBy;

              tbody += "<tr>";
              tbody += "<td class='nw'>" + address1 + "</td>";
              tbody += "<td class='nw'>" + address2 + "</td>";
              tbody += "<td class='nw'>" + city + "</td>";
              tbody += "<td class='nw'>" + state + "</td>";
              tbody += "<td class='nw'>" + zipCode + "</td>";
              tbody += "<td class='nw'>" + country + "</td>";
              tbody += "<td class='nw'>" + customerAddressType + "</td>";
              tbody += "<td class='nw'>" + updatedAt + "</td>";
              tbody += "<td class='nw'>" + updatedBy + "</td>";
              tbody += "</tr>";
            }
            $("#customerAddressHistoryTableBody").html(tbody);
          },
          error: function (xhr) {
            xhr = sanitize(unSanitize(xhr));
            var tbody = "";
            tbody += "<tr>";
            tbody +=
              "<td colspan = 10 style='text-align:center;'>No Records Found !</td>";
            tbody += "</tr>";
            $("#customerAddressHistoryTableBody").html(tbody);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);

            $("#customerAddressHistoryModal").modal("show");
            $("#customerAddressHistory").attr("disabled", false);
            $("#customerAddressHistory").html("Address History");
          },
        });
      }

      function showRejectionDiv() {
        $("#rejectBtnSpan").hide("slow");
        $("#approveBtn").css({
          "margin-left": "",
        });
        $("#rejectionRemarksDiv").show("slow");
      }

      function getAddressList() {
        $("#documentImage").empty();
        var customerHashId = $("#customerHashId").val();
        $.ajax({
          type: "GET",
          url: $("#getAddressListUrl").val() + customerHashId,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (response, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            response = sanitize(unSanitize(response));

            if (response.length > 0) {
              for (var i = 0; i < response.length; i++) {
                if (
                  response[i].customerAddressType.addressType ==
                  "Billing Address"
                ) {
                  $("#billingAddress1").html(response[i].address1);
                  $("#billingAddress2").html(response[i].address2);
                  $("#billingLandmark").val(response[i].landmark);
                  $("#billingState").val(response[i].state);
                  $("#billingCity").val(response[i].city);
                  $("#billingCountry").val(response[i].country);
                  $("#billingZipCode").val(response[i].zipCode);
                }
                if (
                  response[i].customerAddressType.addressType ==
                  "Delivery Address"
                ) {
                  $("#deliveryAddress1").html(response[i].address1);
                  $("#deliveryAddress2").html(response[i].address2);
                  $("#deliveryLandmark").val(response[i].landmark);
                  $("#deliveryState").val(response[i].state);
                  $("#deliveryCity").val(response[i].city);
                  $("#deliveryCountry").val(response[i].country);
                  $("#deliveryZipCode").val(response[i].zipCode);
                }

                if (
                  response[i].customerAddressType.addressType ==
                  "Correspondence Address"
                ) {
                  $("#correspondenceAddress1").html(response[i].address1);
                  $("#correspondenceAddress2").html(response[i].address2);
                  $("#correspondenceLandmark").val(response[i].landmark);
                  $("#correspondenceState").val(response[i].state);
                  $("#correspondenceCity").val(response[i].city);
                  $("#correspondenceCountry").val(response[i].country);
                  $("#correspondenceZipCode").val(response[i].zipCode);
                }
              }
              $("#addressModal").modal("show");
            } else {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html("Address not found!");
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function generateCardListTable(value) {
        //var startDate = $("#createDate").html();
        var customerHashId = $("#customerHashId").val();
        var clientcode = $("#clientCode").val();
        var paging = value;
        var size = "10";
        var order = "";
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: $("#cardlistUrl").val(),
          dataType: "json",
          data: JSON.stringify({
            page: paging,
            size: size,
            customerHashId: customerHashId,
            clientCode: clientcode,
          }),
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            data = sanitize(unSanitize(data));
            var trHTML = "";
            if (trHTML === "") {
              var slno = paging * 10;
              var startno = paging * 10 + 1;
              $("#cardListTable").empty();
              var itemVal = data.content;
              if (
                itemVal != null &&
                itemVal !== "" &&
                itemVal !== "[]" &&
                itemVal.length > 0
              ) {
                $(itemVal).each(function (i, item) {
                  slno = slno + 1;
                  var createdAtDate = new Date(itemVal[i].createdAt);
                  var date = createdAtDate.getDate();
                  var month = createdAtDate.getMonth() + 1;
                  var year = createdAtDate.getFullYear();
                  var hour = createdAtDate.getHours();
                  var minute = createdAtDate.getMinutes();
                  var seconds = createdAtDate.getSeconds();
                  var createdAt =
                    year +
                    "/" +
                    month +
                    "/" +
                    date +
                    " " +
                    hour +
                    ":" +
                    minute +
                    ":" +
                    seconds;
                  var demoCardId = itemVal[i].cardHashId;
                  trHTML +=
                    '<tr class="testingg header"><td class="collapse_btn"><span onclick="toggleAccordian(this);" class="plus" title="Click here to expand the row" style="margin-top: -7px;">+</span>' +
                    slno +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (createdAt == null ? "NA" : createdAt) +
                    "</td>";
                  switch (itemVal[i].cardStatus) {
                    case "Inactive":
                      trHTML +=
                        '<td><span class="badge badge-info">' +
                        itemVal[i].cardStatus +
                        "</span></td>";
                      break;
                    case "Active":
                      trHTML +=
                        '<td><span class="badge badge-success">' +
                        itemVal[i].cardStatus +
                        "</span></td>";
                      break;
                    case "T_block":
                      trHTML +=
                        '<td><span class="badge badge-warning">' +
                        itemVal[i].cardStatus +
                        "</span></td>";
                      break;
                    case "P_Block":
                      trHTML +=
                        '<td><span class="badge badge-danger">' +
                        itemVal[i].cardStatus +
                        "</span></td>";
                      break;
                    case "null":
                      trHTML +=
                        '<td><span class="badge badge-default"> NA </span></td>';
                      break;
                    default:
                      trHTML +=
                        '<td><span class="badge badge-default">' +
                        itemVal[i].cardStatus +
                        "</span></td>";
                  }

                  trHTML +=
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].maskCardNumber == null
                      ? ""
                      : itemVal[i].maskCardNumber) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].cardHashId == null
                      ? ""
                      : itemVal[i].cardHashId) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].cardType.code == null
                      ? ""
                      : itemVal[i].cardType.code) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].issuanceType == null
                      ? ""
                      : itemVal[i].issuanceType) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].proxyNumber == null
                      ? ""
                      : itemVal[i].proxyNumber) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].embossedName1 == null
                      ? ""
                      : itemVal[i].embossedName1) +
                    "</td>";

                  trHTML +=
                    "<td>" +
                    '<div class="dropdown card-options"><a href="javascript:;" style="cursor: pointer; padding: 0 10px;" class="dropdown-toggle" type="button" id="dropdownMenu' +
                    slno +
                    '" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i class="glyphicon glyphicon-option-horizontal"></i></a><ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu' +
                    slno +
                    '"><li><a href="javascript:;" onclick="generateCardProcessTable(\'' +
                    itemVal[i].id +
                    "','" +
                    itemVal[i].cardNumber +
                    "','" +
                    itemVal[i].cardStatus +
                    "','" +
                    itemVal[i].maskCardNumber +
                    "','" +
                    itemVal[i].cardActivationStatus +
                    "','" +
                    itemVal[i].cardHashId +
                    "','" +
                    itemVal[i].cardType.code +
                    '\')">View Details</a></li><li><a href="javascript:;" onclick = "openDemographicUpdateModel(\'' +
                    demoCardId +
                    "')\">Update Demographic Details</a></li>" +
                    '<li><a href="javascript:;" onclick = "openEmbosserUpdateModel(\'' +
                    demoCardId +
                    "')\">Update Embosser Details</a></li>" +
                    '<li><a href="javascript:;" onclick="openAuthInquireyResponse(\'' +
                    itemVal[i].cardHashId +
                    "','" +
                    itemVal[i].regionCode +
                    "')\">Inquire Processor Auth </a></li>" +
                    "</ul>" +
                    "</div>" +
                    "</td>";
                  trHTML += "</tr>";
                  /* ============================= */
                  trHTML += "<tr id='collapse_header' class='collapse_header'>";
                  trHTML += "<td colspan='19'>";
                  trHTML += '<div class="row">';
                  trHTML += '<div class="col-md-6">';
                  trHTML += '<div class="custDtlsCard_wrapper">';
                  trHTML +=
                    '<h5 style="font-weight: 600">Reason :</h5><h5>' +
                    (itemVal[i].reason == null ? "" : itemVal[i].reason) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Issuance Mode :</h5><h5>' +
                    (itemVal[i].issuanceMode == null
                      ? ""
                      : itemVal[i].issuanceMode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Issuance Action :</h5><h5>' +
                    (itemVal[i].cardIssuanceAction == null
                      ? ""
                      : itemVal[i].cardIssuanceAction) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Region Code :</h5><h5>' +
                    (itemVal[i].regionCode == null
                      ? ""
                      : itemVal[i].regionCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Demog Overriden? :</h5><h5>' +
                    (itemVal[i].demogOverridden == null
                      ? ""
                      : itemVal[i].demogOverridden) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Demog Synced? :</h5><h5>' +
                    (itemVal[i].demogSynced == null
                      ? ""
                      : itemVal[i].demogSynced) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">First Name :</h5><h5>' +
                    (itemVal[i].firstName == null ? "" : itemVal[i].firstName) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Middle Name :</h5><h5>' +
                    (itemVal[i].middleName == null
                      ? ""
                      : itemVal[i].middleName) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Last Name :</h5><h5>' +
                    (itemVal[i].lastName == null ? "" : itemVal[i].lastName) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Country Code :</h5><h5>' +
                    (itemVal[i].countryCode == null
                      ? ""
                      : itemVal[i].countryCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Mobile Number :</h5><h5>' +
                    (itemVal[i].mobileNumber == null
                      ? ""
                      : itemVal[i].mobileNumber) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Email :</h5><h5>' +
                    (itemVal[i].emailId == null ? "" : itemVal[i].emailId) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Logo Identifier :</h5><h5>' +
                    (itemVal[i].logoIdentifier == null
                      ? ""
                      : itemVal[i].logoIdentifier) +
                    "</h5>";
                  trHTML += "</div>";
                  trHTML += "</div>";
                  trHTML += "</div></td></tr>";
                });
              } else {
                $("#cardListTable").empty();
                trHTML +=
                  '<tr class="odd testingg"><td class="dataTables_empty" colspan="15" valign="top">No card available in table</td></tr>';
              }
              $("#cardListTable").html(trHTML);
            } else {
              $("#cardListTable").empty();
              trHTML +=
                '<tr class="odd testingg"><td class="dataTables_empty" colspan="15" valign="top">No card available in table</td></tr>';
            }
            cardListPagination(data.totalPages, 1);
            $("#paging_info").html(
              "Showing " +
                startno +
                " to " +
                slno +
                " of " +
                data.numberOfElements +
                " entries"
            );
          },
          error: function (jqXHR, errorThrown) {
            jqXHR = sanitize(unSanitize(jqXHR));
            if (jqXHR.readyState === 0) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(
                "service is temporarily down,please try again later."
              );
            } else {
              if (jqXHR.status === 500) {
                var responseMessage = JSON.parse(jqXHR.responseText);
                var message = responseMessage.message;
                $("#error_refundNotification").modal("show");
                $(".refunded_body").html(message);
              } else if (jqXHR.status === 400) {
                $("#error_refundNotification").modal("show");
                $(".refunded_body").html(jqXHR.responseText);
              } else {
                $("#error_refundNotification").modal("show");
                $(".refunded_body").html(jqXHR.responseText);
              }
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function openDemographicUpdateModel(cardId) {
        getCountryCode();
        $("#demographicUpdateCardNumber").val(cardId);
        let clientHashId = $("#clientCode").val();
        let walletHashId = $("#walletHash").val();
        let customerHashId = $("#customerHashId").val();
        var cardHashId = $("#demographicUpdateCardNumber").val();
        let url = $("#cardCustomerDetailUrl").val() + "card" + "/" + cardHashId;
        $.ajax({
          url: url,
          type: "GET",
          data: { cardHashId: cardId },
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            $("#mobileNumber").val(result.mobileNumber);
            $("#email").val(result.emailId);
            $("#customerHashId").val(result.customerHashId);
            $("#telephoneCode").val(result.phoneCode);
            $("#countryCodeListValueHold").val(result.countryCode);
            $("#countryCodeList").val($("#countryCodeListValueHold").val());
            $("#countryCodeList").trigger("change");
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
        $.ajax({
          url:
            $("#cardCustomerDetailUrl").val() +
            "client" +
            "/" +
            clientHashId +
            "/customer" +
            "/" +
            customerHashId +
            "/wallet" +
            "/" +
            walletHashId +
            "/card" +
            "/" +
            cardHashId +
            "/demographic",
          type: "GET",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            console.log(result);
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));
            $("#firstName").html(result.firstName);
            $("#lastName").html(result.lastName);
            $("#emailId").html(result.email);
            $("#mobile").html(result.mobilePhone);
            $("#addressLine1").html(result.addressLine1);
            $("#addressLine2").html(result.addressLine2);
            $("#city").html(result.city);
            $("#country_code").html(result.countryCode);
            $("#nationality").html(result.nationality);
            $("#postalCode").html(result.postalCode);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
        $(".modal-dialog").draggable();
        $(".modal-dialog").resizable();
        $("#demographicUpdateModal").modal("show");
      }

      function validateDemographicUpdateFields() {
        $("#demographicUpdateSubmitBtn").attr("disabled", true);
        $("#demographicUpdateSubmitBtn").html(spinnerUrl);
        const clientHashId = $("#clientCode").val();
        const walletHashId = $("#walletHash").val();
        const customerHashId = $("#customerHashId").val();
        const cardHashId = $("#demographicUpdateCardNumber").val();
        var mobileNumber = document.getElementById("mobileNumber");
        var email = document.getElementById("email");
        var emailPattern =
          "^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$";
        var mobilePattern = "^[\\+\\d]+(?:[\\d-.]*)$";
        var valid = true;
        if (mobileNumber == null || mobileNumber === "") {
          valid = false;
          $("#errorMobileNumber").html("please enter mobile number");
        } else if (!mobileNumber.value.match(mobilePattern)) {
          valid = false;
          $("#errorMobileNumber").html("please enter valid mobile number");
        }
        if (email == null || email === "") {
          valid = false;
          $("#errorEmail").html("please enter email id");
        } else if (!email.value.match(emailPattern)) {
          valid = false;
          $("#errorEmail").html("please enter valid email id");
        }
        if (valid) {
          let dataInObjectFormat = {};
          dataInObjectFormat.cardHashId = $(
            "#demographicUpdateCardNumber"
          ).val();
          dataInObjectFormat.mobile = $("#mobileNumber").val();
          dataInObjectFormat.email = $("#email").val();
          dataInObjectFormat.countryCode = $("#countryCodeList").val();
          const url =
            $("#demographicUpdateUrl").val() +
            "client" +
            "/" +
            clientHashId +
            "/" +
            "customer" +
            "/" +
            customerHashId +
            "/" +
            "wallet" +
            "/" +
            walletHashId +
            "/" +
            "card" +
            "/" +
            cardHashId +
            "/" +
            "demographic";
          let dataInJsonFormat = JSON.stringify(dataInObjectFormat);
          $.ajax({
            url: url,
            type: "PUT",
            data: dataInJsonFormat,
            cache: false,
            contentType: "application/json",
            beforeSend: function (xhr) {
              setAuthTokenInReqHeader(xhr);
              setCsrfTokenInRequestHeader(xhr);
            },
            success: function (result, status, xhr) {
              var contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
              result = sanitize(unSanitize(result));

              $("#demographicUpdateSubmitBtn").attr("disabled", false);
              $("#demographicUpdateSubmitBtn").html("Submit");
              $("#demographicUpdateModal").modal("hide");
              $("#demog_update_success").modal("show");
            },
            error: function (xhr) {
              xhr = sanitize(unSanitize(xhr));
              if (xhr.readyState === 0) {
                $("#error_refundNotification").modal("show");
                $("#demographicUpdateModal").modal("hide");
                $(".refunded_body").html(
                  "service is temporarily down,please try again later"
                );
              } else {
                $("#demographicUpdateSubmitBtn").attr("disabled", false);
                $("#demographicUpdateSubmitBtn").html("Submit");
                var message = xhr.responseJSON.message;
                if (message.includes("java.net.SocketException")) {
                  message = "Server is unreachable (connection failed)";
                }
                $(".refunded_body").html(message);
                $("#demographicUpdateModal").modal("hide");
                $("#error_refundNotification").modal("show");
              }
            },
            complete: function (xhr, status) {
              var contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
            },
          });
        } else {
          $("#demographicUpdateSubmitBtn").attr("disabled", false);
          $("#demographicUpdateSubmitBtn").val("Submit");
          setTimeout(function () {
            $("#errorMobileNumber").html("");
            $("#errorEmail").html("");
            $("#errorZipCode").html("");
          }, 3000);
        }
      }

      function openEmbosserUpdateModel(cardHashId) {
        let clientHashId = $("#clientCode").val();
        let walletHashId = $("#walletHash").val();
        let customerHashId = $("#customerHashId").val();
        $("#embosserUpdateCardNumber").val(cardHashId);
        $.ajax({
          url:
            $("#cardCustomerDetailUrl").val() +
            "client" +
            "/" +
            clientHashId +
            "/customer" +
            "/" +
            customerHashId +
            "/wallet" +
            "/" +
            walletHashId +
            "/card" +
            "/" +
            cardHashId +
            "/embosser",
          type: "GET",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            let contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));
            $("#embossedName1").val(result.embossedName1);
            $("#embossedName2").val(result.embossedName2);
            $("#embossedName1").html(
              "Embossed name1 : " + result.embossedName1
            );
            $("#embossedName2").html(
              "Embossed name2 : " + result.embossedName2
            );
            $("#address_line1").html("Address line1 : " + result.addressLine1);
            $("#address_line2").html("Address line2 : " + result.addressLine2);
            $("#embosser_city").html("City : " + result.city);
            $("#embosser_state").html("State : " + result.state);
            $("#plastic_id").html("Plastic id : " + result.plasticId);
            $("#postal_code").html("Postal code : " + result.postalCode);
            $("#digitalId").html("Digital id : " + result.digitalId);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
        $.ajax({
          url: $("#customerDetailUrl").val(),
          type: "GET",
          data: { cardHashId: cardHashId },
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));
            $("#customerId").val(result.customerId);
            $("#clientId").val(result.clientId);
            $("#countryId").val(result.countryId);
            $("#billingAddressId").val(result.customerAddressId_billingAddress);
            $("#correspondenceAddressId").val(
              result.customerAddressId_correspondenceAddress
            );
            $("#deliveryAddressId").val(
              result.customerAddressTypeId_deliveryAddress
            );

            $("#embosserDeliveryAddress1").val(
              result.customerAddress1_deliveryAddress
            );
            $("#embosserDeliveryAddress2").val(
              result.customerAddress2_deliveryAddress
            );
            $("#deliveryCountryCode").val(result.countryIso3);
            $("#embosserDeliveryCity").val(
              result.customerAddressCity_deliveryAddress
            );
            $("#embosserDeliveryState").val(
              result.customerAddressState_deliveryAddress
            );
            $("#embosserDeliveryZipCode").val(
              result.customerAddressZipCode_deliveryAddress
            );
            $("#embosser_Line1").val(result.embossedName1);
            $("#embosser_Line2").val(result.embossedName2);
            $("#plastic_id").val(result.plasticId);
            $("#customerHashId").val(result.customerHashId);
            var embossedName1 = $("#embosser_Line1").val();
            var embossedName2 = $("#embosser_Line2").val();
            if (embossedName1 == null || embossedName1 === "") {
              var existEmbossedName1 = $("#embossedName1").val();
              $("#embosser_Line1").val(existEmbossedName1);
            }
            $(".embosserUpdateRequired").each(function (index, element) {
              $("#" + element.id).css({ border: "1px solid #D5D5D5" });
            });
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
        $(".modal-dialog").draggable();
        $(".modal-dialog").resizable();
        $("#embosserUpdateModal").modal("show");
      }

      function validateEmbosserUpdateFields() {
        const clientHashId = $("#clientCode").val();
        const walletHashId = $("#walletHash").val();
        const customerHashId = $("#customerHashId").val();
        const cardHashId = $("#embosserUpdateCardNumber").val();
        $("#embosserUpdateSubmitBtn").attr("disabled", true);
        $("#embosserUpdateSubmitBtn").html(spinnerUrl);
        var valid = true;
        var deliveryAddress1 = $("#embosserDeliveryAddress1").val();
        var deliveryCity = $("#embosserDeliveryCity").val();
        var cityPattern = "[a-zA-Z]+|[a-zA-Z]+\\s[a-zA-Z]+";

        if (deliveryAddress1 == null || deliveryAddress1 === "") {
          valid = false;
          $("#errorDeliveryAddress1").html("please enter delivery address1");
        }
        if (deliveryCity == null || deliveryCity === "") {
          valid = false;
          $("#errorDeliveryCity").html("please enter city");
        } else if (!deliveryCity.match(cityPattern)) {
          valid = false;
          $("#errorDeliveryCity").html("please enter valid city");
        }

        if (valid) {
          let dataInObjectFormat = {};
          dataInObjectFormat.deliveryAddress1 = $(
            "#embosserDeliveryAddress1"
          ).val();
          dataInObjectFormat.deliveryAddress2 = $(
            "#embosserDeliveryAddress2"
          ).val();
          dataInObjectFormat.deliveryCity = $("#embosserDeliveryCity").val();
          dataInObjectFormat.deliveryZipCode = $(
            "#embosserDeliveryZipCode"
          ).val();
          dataInObjectFormat.embosserName1 = $("#embosser_Line1").val();
          dataInObjectFormat.embosserName2 = $("#embosser_Line2").val();

          var dataInJsonFormat = JSON.stringify(dataInObjectFormat);
          $.ajax({
            url:
              $("#embosserUpdateUrl").val() +
              "client" +
              "/" +
              clientHashId +
              "/customer" +
              "/" +
              customerHashId +
              "/wallet" +
              "/" +
              walletHashId +
              "/card" +
              "/" +
              cardHashId +
              "/embosser",
            type: "PUT",
            data: dataInJsonFormat,
            cache: false,
            contentType: "application/json",
            async: false,
            beforeSend: function (xhr) {
              setAuthTokenInReqHeader(xhr);
              setCsrfTokenInRequestHeader(xhr);
            },
            success: function (result, status, xhr) {
              var contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
              result = sanitize(unSanitize(result));

              $("#embosserUpdateSubmitBtn").attr("disabled", false);
              $("#embosserUpdateSubmitBtn").html("Submit");
              $(".refunded_body").html("Embosser details updated successfully");
              $("#embosserUpdateModal").modal("hide");
              $("#success_refundNotification").modal("show");
            },
            error: function (xhr) {
              xhr = sanitize(unSanitize(xhr));
              if (xhr.readyState === 0) {
                $("#embosserUpdateModal").modal("hide");
                $("#error_refundNotification").modal("show");
                $(".refunded_body").html(
                  "service is temporarily down,please try again later."
                );
              } else {
                $("#embosserUpdateSubmitBtn").attr("disabled", false);
                $("#embosserUpdateSubmitBtn").html("Submit");
                var message = xhr.responseJSON.message;
                if (message.includes("java.net.SocketException")) {
                  message = "Server is unreachable (connection failed)";
                }
                $(".refunded_body").html(message);
                $("#embosserUpdateModal").modal("hide");
                $("#error_refundNotification").modal("show");
              }
            },
            complete: function (xhr, status) {
              var contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
            },
          });
        } else {
          $("#embosserUpdateSubmitBtn").attr("disabled", false);
          $("#embosserUpdateSubmitBtn").html("Submit");
          setTimeout(function () {
            $("#errorDeliveryAddress1").html("");
            $("#errorDeliveryCity").html("");
            $("#errorDeliveryState").html("");
          }, 3000);
        }
      }

      function openAuthInquireyResponse(cardHashId, regionCode) {
        var url = $("#outstandingAuthInquiryUrl").val();
        $.ajax({
          url: url,
          type: "POST",
          contentType: "application/json",
          data: JSON.stringify(
            unSanitize({
              cardHashId: cardHashId,
              regionCode: regionCode,
            })
          ),
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));
            var tbody = "";
            if (result.authorizations.length == 0) {
              tbody +=
                "<tr><td colspan=100 style='text-align:left;'>No Data Found</td></tr>";
            }
            for (var row = 0; row < result.authorizations.length; row++) {
              var authDetails = result.authorizations[row];
              tbody +=
                "<tr>" +
                "<td>" +
                (row + 1) +
                "</td>" +
                "<td>" +
                authDetails.localDate +
                "</td>" +
                "<td>" +
                authDetails.localTime +
                "</td>" +
                "<td>" +
                authDetails.billingAmount +
                "</td>" +
                "<td>" +
                authDetails.billingCurrencyCode +
                "</td>" +
                "<td>" +
                authDetails.maskCardNumber +
                "</td>" +
                "<td>" +
                authDetails.reasonDescription +
                "</td>" +
                "<td>" +
                authDetails.action +
                "</td>" +
                "<td>" +
                authDetails.authorizationCode +
                "</td>" +
                "<td>" +
                authDetails.authorizationType +
                "</td>" +
                "<td>" +
                authDetails.merchantId +
                "</td>" +
                "<td>" +
                authDetails.categoryDescription +
                "</td>" +
                "<td>" +
                authDetails.merchantNameLocation +
                "</td>" +
                "<td>" +
                authDetails.transactionType +
                "</td>" +
                "<td>" +
                authDetails.transactionDesc +
                "</td>" +
                "<td>" +
                authDetails.terminalId +
                "</td>" +
                "<td>" +
                authDetails.panEntryDescription +
                "</td>" +
                "<td>" +
                authDetails.actionReason +
                "</td>" +
                "<td>" +
                authDetails.systemAction +
                "</td>" +
                "<td>" +
                authDetails.inputSource +
                "</td>" +
                "</tr>";
            }
            $("#outstandingAuthInfo").html(tbody);
          },

          error: function (jqXHR) {
            if (jqXHR.readyState === 0) {
              $("#outstandingAuthInfo").html(
                "<tr><td colspan=100 style='text-align:left;'>" +
                  "service is temporarily down,please try again later." +
                  "</td></tr>"
              );
            } else {
              var responseMessage = null;
              try {
                responseMessage = JSON.parse(jqXHR.responseText);
              } catch (err) {
                console.log("error in parsing jqXHR.responseText " + jqXHR);
              }

              if (
                responseMessage === null ||
                responseMessage === undefined ||
                responseMessage.errors === undefined
              ) {
                $("#outstandingAuthInfo").html(
                  "<tr><td colspan=100 style='text-align:left;'>" +
                    "Internal Error" +
                    "</td></tr>"
                );
              } else {
                $("#outstandingAuthInfo").html(
                  "<tr><td colspan=100 style='text-align:left;'>" +
                    responseMessage.errors +
                    "</td></tr>"
                );
              }
            }
          },
          complete: function (xhr, status) {
            $("#declineTrxnModal").modal("show");
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function cardListPagination(totalPages, val) {
        if (val === "0") {
          $("#paginationn").twbsPagination("destroy");
        }
        if (totalPages === 0) {
          totalPages = 1;
        }

        $("#paginationn").twbsPagination({
          totalPages: totalPages,
          visiblePages: 7,
          startPage: 1,
          hideOnlyOnePage: false,
          initiateStartPageClick: false,
          first: "First",
          prev: "Previous",
          next: "Next",
          last: "Last",
          onPageClick: function (event, page) {
            if ($("#totalPagesId").val() !== 1) {
              generateCardListTable(page - 1);
            } else {
              $("#totalPagesId").val(2);
            }
          },
        });
      }

      function generateCardProcessTable(
        id,
        cardNumber,
        cardStatus,
        maskCardNumber,
        cardActivationStatus,
        cardID,
        cardType
      ) {
        $("#cardNumber").val(cardNumber);
        $("#cardId").val(id);
        $("#cardStatus").val(cardStatus);
        $("#cardActivationStatus").val(cardActivationStatus);
        $("#cardID").val(cardID);
        $("#cardType").val(cardType);

        $("#cardPorcessModelTitle").html("Card Number - " + maskCardNumber);
        if (cardStatus === "P_Block" && cardActivationStatus === "P_Block") {
          $("#permanentBlock_button").hide();
        } else {
          $("#permanentBlock_button").show();
        }
        $("#cardProcessModel").modal({
          show: true,
          backdrop: "static",
          keyboard: false,
        });
      }

      $("#cardAcceptBtn").on("click", function () {
        $("#cardAcceptTableDiv").toggle("slow", "swing");
      });

      $("#fullyBlockBtn").on("click", function () {
        $("#aullyBlockDiv").toggle("slow", "swing");
      });

      $("#unbBlockBtn").on("click", function () {
        $("#unbBlockDiv").toggle("slow", "swing");
      });

      $("#softBlockBtn").on("click", function () {
        $("#softBlockDiv").toggle("slow", "swing");
      });

      function closeModalAndRefresh() {
        $("#cardProcessModel").modal({
          show: false,
          backdrop: "static",
          keyboard: false,
        });
        window.location.reload(true);
      }

      $("#action")
        .change(function () {
          var action = $("#action").val();
          if (action == null || action === "ADD_ON") {
            $(".card_hash_id").show();

            var customerHashId = $("#customerHashId").val();
            $.ajax({
              url: $("#getcardlistUrl").val() + customerHashId + "/cards",
              type: "post",
              async: false,
              beforeSend: function (xhr) {
                setAuthTokenInReqHeader(xhr);
                setCsrfTokenInRequestHeader(xhr);
              },
              success: function (result, status, xhr) {
                var contextPath = "${pageContext.request.contextPath}";
                setAndReturnNewAuthToken(xhr, contextPath);
                setAndReturnNewCsrfToken(xhr, contextPath);
                result = sanitize(unSanitize(result));

                var optionTag = "<option value = ''>Select an option</option>";
                if (
                  result != null &&
                  result !== "" &&
                  result !== "[]" &&
                  result.length > 0
                ) {
                  for (var i = 0; i < result.length; i++) {
                    var eachOption = result[i];
                    optionTag +=
                      "<option value = " +
                      eachOption.cardHashId +
                      ">" +
                      eachOption.maskCardNumber +
                      "</option>";
                  }
                  $("#cardHashId").html(optionTag);
                  $(".enableSelect2").select2({
                    placeholder: "Select an option",
                    allowClear: false,
                    dropdownAutoWidth: false,
                    width: "100%",
                    dropdownCss: {
                      width: "inherit",
                    },
                  });
                  if (
                    $("#cardHashId").val() != null &&
                    $("#cardHashId").val() !== ""
                  ) {
                    $(".enableSelect2").trigger("change");
                  }
                } else {
                  $("#cardHashId").html(optionTag);
                  $(".enableSelect2").select2({
                    placeholder: "Select an option",
                    allowClear: false,
                    dropdownAutoWidth: false,
                    width: "100%",
                    dropdownCss: {
                      width: "inherit",
                    },
                  });
                }
              },
              complete: function (xhr, status) {
                var contextPath = "${pageContext.request.contextPath}";
                setAndReturnNewAuthToken(xhr, contextPath);
                setAndReturnNewCsrfToken(xhr, contextPath);
              },
            });
          } else {
            $("#cardTypeCode").attr("disabled", false);
            $("#logoId").attr("disabled", false);
            $("#plasticId").attr("disabled", false);
            $(".card_hash_id").hide();
          }
        })
        .change();

      $("#demogOverriddenAction")
        .change(function () {
          var demogOverridden = $("#demogOverriddenAction").val();
          if (demogOverridden == null || demogOverridden === "true") {
            $(".card_hash").show();
          } else {
            $(".card_hash").hide();
          }
        })
        .change();

      $("#addCardSubmitBtn").click(function (event) {
        if (validateCard()) {
          $("#addCardSubmitBtn").attr("disabled", true);
          $("#addCardSubmitBtn").html(spinnerUrl);
          var mmyy = "";
          var cardId = "";
          var cardId = $("#cardHashId").val();
          var clientcode = $("#clientCode").val();
          var walletHashId = $("#walletHash").val();
          var customerHashId = $("#customerHashId").val();
          var cardTypeCode = $("#cardTypeCode").val();
          var embossing_line1 = $("#embossing_line1").val();
          var embossing_line2 = $("#embossing_line2").val();
          var memorableWord = $("#memorable_word").val();
          var issuanceMode = $("#issuance_mode").val();
          var action = $("#action").val();
          var plasticId = $("#plasticId").val();
          var expiryMonth = $("#exp_month").val();
          var expiryYear = $("#exp_year").val();
          var currencyCode = $("#currencyCode").val();
          var countryCode = $("#countryCode").val();
          var logoId = $("#logoId").val();
          var firstName = $("#first_name").val();
          var middleName = $("#middle_name").val();
          var lastName = $("#last_name").val();
          var emailId = $("#email_id").val();
          var countryCode = $("#countryCode").val();
          var mobileNumber = $("#contactNumber").val();
          var phoneCode = $("#teleCode").val();
          var demogOverridden = $("#demogOverriddenAction").val();
          if (expiryMonth != "#" && expiryYear != "#") {
            mmyy = expiryMonth + "" + "" + (expiryYear + "");
          }
          if (demogOverridden === "true") {
            firstName = $("#first_name").val();
            middleName = $("#middle_name").val();
            lastName = $("#last_name").val();
            emailId = $("#email_id").val();
            countryCode = $("#countryCode").val();
            mobileNumber = $("#contactNumber").val();
            var phoneCode = $("#teleCode").val();
          }
          const url =
            $("#addCardUrl").val() +
            "client" +
            "/" +
            clientcode +
            "/" +
            "customer" +
            "/" +
            customerHashId +
            "/" +
            "wallet" +
            "/" +
            walletHashId +
            "/" +
            "card";
          let data = JSON.stringify(
            unSanitize({
              embossingLine1: embossing_line1,
              embossingLine2: embossing_line2,
              memorableWord: memorableWord,
              cardIssuanceAction: action,
              cardType: cardTypeCode,
              plasticId: plasticId,
              issuanceMode: issuanceMode,
              cardExpiry: mmyy,
              cardFeeCurrencyCode: currencyCode,
              logoId: logoId,
              cardHashId: cardId,
              firstName: firstName,
              middleName: middleName,
              lastName: lastName,
              email: emailId,
              countryCode: countryCode,
              demogOverridden: demogOverridden,
              phoneCode: phoneCode,
              mobile: mobileNumber,
            })
          );

          $.ajax({
            type: "POST",
            contentType: "application/json",
            url: url,
            data: data,
            processData: false,
            cache: false,
            timeout: 600000,
            beforeSend: function (xhr) {
              setAuthTokenInReqHeader(xhr);
              setCsrfTokenInRequestHeader(xhr);
            },
            success: function (data, status, xhr) {
              const contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
              sanitize(unSanitize(data));

              $("#addCardModel").modal("hide");
              $("#addCard_successModal").modal("show");
              $("#addCardSubmitBtn").attr("disabled", false);
              $("#addCardSubmitBtn").html("Submit");
            },
            error: function (data) {
              let message;
              let responseMessage;
              data = sanitize(unSanitize(data));
              if (data.status === 500) {
                responseMessage = data.responseJSON;
                message = responseMessage.message;
                $("#addCardModel").modal("hide");
                $("#error_addCardModal").modal("show");
                $(".error_addCard").html(message);
                $("#addCardSubmitBtn").attr("disabled", false);
              } else if (data.status === 400) {
                responseMessage = data.responseJSON;
                message = responseMessage.message;
                $("#addCardModel").modal("hide");
                $("#error_addCardModal").modal("show");
                $(".error_addCard").html(message);
                $("#addCardSubmitBtn").attr("disabled", false);
              } else {
                $("#addCardModel").modal("hide");
                $("#error_addCardModal").modal("show");
                $(".error_addCard").html(data.responseText);
                $("#addCardSubmitBtn").attr("disabled", false);
              }
            },
            complete: function (xhr, status) {
              const contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
            },
          });
        }
      });

      function activateCard() {
        const clientHashId = $("#clientCode").val();
        const walletHashId = $("#walletHash").val();
        const customerHashId = $("#customerHashId").val();
        const cardID = $("#cardID").val();
        const url =
          $("#activateCardUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardID +
          "/" +
          "activate";
        $("#card_accept_button").html(spinnerUrl);
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          timeout: 600000,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            const contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            $("#cardProcessModel").modal("hide");
            $("#cardActivation_success").modal("show");
            $("#card_accept_button").html("Activate Card");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            $("#card_accept_button").html("Activate Card");
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
          },
          complete: function (xhr, status) {
            const contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function temporaryBlockCard() {
        const clientHashId = $("#clientCode").val();
        const walletHashId = $("#walletHash").val();
        const customerHashId = $("#customerHashId").val();
        const cardHashId = $("#cardID").val();
        const blockAction = "temporaryblock";
        const url =
          $("#activateCardUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardHashId +
          "/" +
          "cardAction";

        $("#temporary_block_button").html(spinnerUrl);
        let data = JSON.stringify(
          unSanitize({
            reason: "",
            blockAction: blockAction,
          })
        );
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          timeout: 600000,
          data: data,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            $("#cardProcessModel").modal("hide");
            $("#tempBlock_Card_success").modal("show");
            $("#temporary_block_button").html("Temporary Block Card");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            $("#temporary_block_button").html("Temporary Block Card");
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function unBlockCard() {
        const clientHashId = $("#clientCode").val();
        const walletHashId = $("#walletHash").val();
        const customerHashId = $("#customerHashId").val();
        const cardHashId = $("#cardID").val();
        const blockAction = "unblock";
        const url =
          $("#activateCardUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardHashId +
          "/" +
          "cardAction";
        $("#unblock_button").html(spinnerUrl);
        let data = JSON.stringify(
          unSanitize({
            reason: "",
            blockAction: blockAction,
          })
        );
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          timeout: 600000,
          data: data,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            $("#cardProcessModel").modal("hide");
            $("#unblockCard_success").modal("show");
            $("#unblock_button").html("Unblock Card");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            $("#unblock_button").html("Unblock Card");
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function permanentBlockCard() {
        var status = $("#cardStatus").val();
        var activateStatus = $("#cardActivationStatus").val();
        $("#cardProcessModel").modal("hide");
        $("#permanentBlockModel").modal("show");
      }

      $("#permanentBlockSubmitBtn").click(function (event) {
        var clientHashId = $("#clientCode").val();
        var walletHashId = $("#walletHash").val();
        var customerHashId = $("#customerHashId").val();
        var cardID = $("#cardID").val();
        var blockAction = "permanentBlock";
        var reason = $("#reason").val();
        var remarks = $("#remarks").val();
        var url =
          $("#activateCardUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardID +
          "/" +
          "cardAction";
        $("#permanentBlockSubmitBtn").html(spinnerUrl);
        let data = JSON.stringify(
          unSanitize({
            reason: reason,
            blockAction: blockAction,
            remarks: remarks,
          })
        );
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          timeout: 600000,
          data: data,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);

            $("#permanentBlockModel").modal("hide");
            $("#card_p_Block_success").modal("show");
            $("#permanentBlockSubmitBtn").html("Permanent Block Card");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            $("#permanentBlockSubmitBtn").html("Permanent Block Card");
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      });

      function replacementCard() {
        $("#cardProcessModel").modal("hide");
        $("#addReplacementCardModel").modal("show");
        var cardType = $("#cardType").val();
        if (cardType == null || cardType === "GPR_PHY") {
          $(".expiry").hide();
        } else {
          $(".expiry").show();
        }
      }

      $("#addReplaceCardSubmitBtn").click(function (event) {
        var monthYear = "";
        var clientHashId = $("#clientCode").val();
        var walletHashId = $("#walletHash").val();
        var customerHashId = $("#customerHashId").val();
        var cardID = $("#cardID").val();
        var expiryMonth = $("#replace_exp_month").val();
        var expiryYear = $("#replace_exp_year").val();
        var currencyCode = $("#replaceCurrencyCode").val();
        var cardTypeCode = $("#cardType").val();
        if (expiryMonth != "#" && expiryYear != "#") {
          monthYear = expiryMonth + "" + "" + (expiryYear + "");
        }
        var url =
          $("#replacementCardUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardID +
          "/" +
          "replaceCard";
        $("#addReplaceCardSubmitBtn").html("Please Wait ....");
        let data = JSON.stringify(
          unSanitize({
            cardExpiry: monthYear,
            cardFeeCurrencyCode: currencyCode,
          })
        );
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          data: data,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            $("#cardProcessModel").modal("hide");
            $("#addReplacementCardModel").modal("hide");
            $("#replaceCard_success").modal("show");
            $("#addReplaceCardSubmitBtn").html("Submit");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            $("#addReplaceCardSubmitBtn").html("Submit");
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
            data = sanitize(unSanitize(data));
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      });

      function closeModal() {
        window.location.reload(true);
      }

      function reOpenModal() {
        $("#addCardModel").modal("show");
        $("#addCardSubmitBtn").attr("disabled", false);
        $("#addCardSubmitBtn").html("Submit");
      }

      function generateWalletBalanceTable() {
        var ClientHashId = $("#clientCode").val();
        var walletHashId = $("#walletHash").val();
        var customerHashId = $("#customerHashId").val();
        var url =
          $("#walletBalanceUrl").val() +
          "client" +
          "/" +
          ClientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId;
        $.ajax({
          type: "POST",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(result));

            addTable(result, $("#walletBalanceTable"));
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function addTable(list, appendObj) {
        var slno = 0;
        var trHTML = "";
        if (list != null && list !== "" && list.length > 0) {
          $("#pocketList").empty();
          $(list).each(function (i, item) {
            var eachRowData = list[i];
            var balance = eachRowData.balance.toFixed(4);
            var holdBalance = eachRowData.holdBalance.toFixed(4);
            var pocketDefinitionObject = eachRowData.pocketDefinition;
            if (pocketDefinitionObject != null) {
              var pocketName = pocketDefinitionObject.pocketName;
              var defaultPocket = pocketDefinitionObject.defaultPocket;
            } else {
              var pocketName = "";
              var defaultPocket = "";
            }
            var currencyObject = eachRowData.currency;
            var curSymbol = currencyObject.curSymbol;
            var uniquePayerId = returnEmptyIfBlank(eachRowData.uniquePayerId);
            var uniquePaymentId = returnEmptyIfBlank(
              eachRowData.uniquePaymentId
            );
            slno = slno + 1;
            trHTML += '<tr class="testingg"><td>' + slno + "</td>";
            trHTML += "<td>" + curSymbol + "</td>";
            trHTML += "<td>" + pocketName + "</td>";
            trHTML += "<td>" + balance + "</td>";
            trHTML += "<td>" + holdBalance + "</td>";
            trHTML += "<td>" + uniquePayerId + "</td>";
            trHTML += "<td>" + uniquePaymentId + "</td>";
            trHTML += "</tr>";
          });
          $("#pocketList").html(trHTML);
        } else {
          $("#pocketList").empty();
          trHTML +=
            '<tr class="odd testingg"><td class="dataTables_empty" colspan="15" valign="top">No data available in table</td></tr>';
        }
      }

      function generateWalletTransactionTable() {
        $("#Transaction_Details").attr(
          "class",
          "table table-bordered table-striped table-condensed myTable"
        );
        generateTransactionsListTable(0);
      }

      function generateTransactionsListTable(value) {
        let localCode = "";
        let clientCode = $("#clientCode").val();
        let customerHashId = $("#customerHashId").val();
        let paging = value;
        let size = "10";
        let order = "";
        let data = JSON.stringify(
          unSanitize({
            page: paging,
            size: size,
            clientHashId: clientCode,
            customerHashId: customerHashId,
          })
        );
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: $("#transactionListUrl").val(),
          dataType: "json",
          data: data,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            var trHTML = "";
            if (trHTML === "") {
              var slno = paging * 10;
              var startno = paging * 10 + 1;
              $("#transactionListTable").empty();
              var itemVal = data.transactionList;

              if (
                itemVal != null &&
                itemVal !== "" &&
                itemVal !== "[]" &&
                itemVal.length > 0
              ) {
                $(itemVal).each(function (i, item) {
                  slno = slno + 1;
                  var createdAtDate = new Date(itemVal[i].createdAt);
                  var date = createdAtDate.getDate();
                  var month = createdAtDate.getMonth() + 1;
                  var year = createdAtDate.getFullYear();
                  var hour = createdAtDate.getHours();
                  var minute = createdAtDate.getMinutes();
                  var seconds = createdAtDate.getSeconds();
                  var createdAt =
                    year +
                    "/" +
                    month +
                    "/" +
                    date +
                    " " +
                    hour +
                    ":" +
                    minute +
                    ":" +
                    seconds;
                  trHTML += '<tr class="testingg header">';
                  trHTML +=
                    '<td class="collapse_btn"><span onclick="toggleAccordian(this);" class="plus" title="Click here to expand the row" style="margin-top: -7px;">+</span> ' +
                    slno +
                    "</td>";
                  trHTML +=
                    '<td style="white-space: nowrap">' +
                    (createdAt == null ? "NA" : createdAt) +
                    "</td>";
                  switch (itemVal[i].settlementStatus) {
                    case "APPROVED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-success tstatus">' +
                        itemVal[i].settlementStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "PENDING":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-info tstatus">' +
                        itemVal[i].settlementStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "DECLINED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-danger tstatus">' +
                        itemVal[i].settlementStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "SETTLED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-success tstatus">' +
                        itemVal[i].settlementStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "UNSETTLED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-warning tstatus">' +
                        itemVal[i].settlementStatus +
                        "</span>" +
                        "</td>";
                      break;
                    default:
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-default tstatus">' +
                        (itemVal[i].settlementStatus == null
                          ? "NA"
                          : itemVal[i].settlementStatus) +
                        "</span>" +
                        "</td>";
                      break;
                  }
                  switch (itemVal[i].transactionStatus) {
                    case "APPROVED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-success tstatus">' +
                        itemVal[i].transactionStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "PENDING":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-info tstatus">' +
                        itemVal[i].transactionStatus +
                        "</span>" +
                        "</td>";
                      break;
                    case "DECLINED":
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-danger tstatus">' +
                        itemVal[i].transactionStatus +
                        "</span>" +
                        "</td>";
                      break;
                    default:
                      trHTML +=
                        "<td>" +
                        '<span class="badge badge-default tstatus">' +
                        (itemVal[i].transactionStatus == null
                          ? "NA"
                          : itemVal[i].transactionStatus) +
                        "</span>" +
                        "</td>";
                      break;
                  }
                  trHTML +=
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].transactionType == null
                      ? ""
                      : itemVal[i].transactionType) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].transactionCurrencyCode == null
                      ? ""
                      : itemVal[i].transactionCurrencyCode) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].cardTransactionAmount == null
                      ? ""
                      : itemVal[i].cardTransactionAmount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].billingCurrencyCode == null
                      ? ""
                      : itemVal[i].billingCurrencyCode) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].amount == null ? "" : itemVal[i].amount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].authCurrency == null
                      ? ""
                      : itemVal[i].authCurrency) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].authAmount == null
                      ? ""
                      : itemVal[i].authAmount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].effectiveAuthAmount == null
                      ? ""
                      : itemVal[i].effectiveAuthAmount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].previousAmount == null
                      ? ""
                      : itemVal[i].previousAmount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].settlementAmount == null
                      ? ""
                      : itemVal[i].settlementAmount) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].settlementCurrency == null
                      ? ""
                      : itemVal[i].settlementCurrency) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].pocketDefinition == null
                      ? ""
                      : itemVal[i].pocketDefinition) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].cardNumber == null
                      ? ""
                      : itemVal[i].cardNumber) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].mcc == null ? "" : itemVal[i].mcc) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].merchantCategoryCode == null
                      ? ""
                      : itemVal[i].merchantCategoryCode) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].merchantLocation == null
                      ? ""
                      : itemVal[i].merchantLocation) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].transactionCode == null
                      ? ""
                      : itemVal[i].transactionCode) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].posEntryMode == null
                      ? ""
                      : itemVal[i].posEntryMode) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].systemTraceAuditNumber == null
                      ? ""
                      : itemVal[i].systemTraceAuditNumber) +
                    "</td>" +
                    '<td style="white-space: nowrap">' +
                    (itemVal[i].comments == null ? "" : itemVal[i].comments) +
                    "</td>" +
                    "<td>" +
                    '<div class="dropdown alert-dropdown">' +
                    '<a href="javascript:;" style="padding: 0 10px; cursor: pointer;" class="dropdown-toggle" type="button" id="dropdownMenu' +
                    slno +
                    '" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i class="glyphicon glyphicon-option-horizontal"></i></a>' +
                    '<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu' +
                    slno +
                    '">';
                  trHTML +=
                    "<li><a href='javascript:;' onclick=\"transactionsAddCommentData('" +
                    itemVal[i].transactionId +
                    "', '" +
                    itemVal[i].transactionCode +
                    "')\">Add Comment</a></li>";
                  trHTML +=
                    "<li><a href='javascript:;' onclick=\"transactionsgetCommentData('" +
                    itemVal[i].transactionId +
                    "', '" +
                    itemVal[i].transactionCode +
                    "')\">View Comments</a></li>";
                  +"</ul>" + "</div>" + "</td>" + "</tr>";

                  trHTML += "<tr id='collapse_header' class='collapse_header'>";
                  trHTML += "<td colspan='19'>";
                  trHTML += '<div class="row">';
                  trHTML += '<div class="col-md-6">';
                  trHTML += '<div class="custDtlsTxns_wrapper">';
                  trHTML +=
                    '<h5 style="font-weight: 600">Pos Entry Capability Code :</h5><h5>' +
                    (itemVal[i].posEntryCapabilityCode == null
                      ? ""
                      : itemVal[i].posEntryCapabilityCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Settlement Amount :</h5><h5>' +
                    (itemVal[i].settlementAmount == null
                      ? ""
                      : itemVal[i].settlementAmount) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Replacement Amount :</h5><h5>' +
                    (itemVal[i].replacementAmount == null
                      ? ""
                      : itemVal[i].replacementAmount) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Exchange Rate :</h5><h5>' +
                    (itemVal[i].billingConversionRate == null
                      ? ""
                      : itemVal[i].billingConversionRate) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Current Withholding Balance :</h5><h5>' +
                    (itemVal[i].currentWithholdingBalance == null
                      ? ""
                      : itemVal[i].currentWithholdingBalance) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Wallet Id :</h5><h5>' +
                    (itemVal[i].walletId == null ? "" : itemVal[i].walletId) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Merchant Id :</h5><h5>' +
                    (itemVal[i].mid == null ? "" : itemVal[i].mid) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Debit :</h5><h5>' +
                    (itemVal[i].debit == null ? "" : itemVal[i].debit) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Retrieval Reference Number :</h5><h5>' +
                    (itemVal[i].retrievalReferenceNumber == null
                      ? ""
                      : itemVal[i].retrievalReferenceNumber) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Pos Condition Code :</h5><h5>' +
                    (itemVal[i].posConditionCode == null
                      ? ""
                      : itemVal[i].posConditionCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Terminal Id :</h5><h5>' +
                    (itemVal[i].tid == null ? "" : itemVal[i].tid) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Processing Code :</h5><h5>' +
                    (itemVal[i].processingCode == null
                      ? ""
                      : itemVal[i].processingCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Original Date of Transaction :</h5><h5>' +
                    (itemVal[i].originalDateOfTransaction == null
                      ? ""
                      : itemVal[i].originalDateOfTransaction) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Original System Trace Audit Number :</h5><h5>' +
                    (itemVal[i].originalStan == null
                      ? ""
                      : itemVal[i].originalStan) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Acquiring Institution Code :</h5><h5>' +
                    (itemVal[i].acquiringInstitutionCode == null
                      ? ""
                      : itemVal[i].acquiringInstitutionCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Original Acquiring Institution Code :</h5><h5>' +
                    (itemVal[i].originalAcquiringInstitutionCode == null
                      ? ""
                      : itemVal[i].originalAcquiringInstitutionCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Acquirer Country Code :</h5><h5>' +
                    (itemVal[i].acquiringInstitutionCountryCode == null
                      ? ""
                      : itemVal[i].acquiringInstitutionCountryCode) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Expiry Date :</h5><h5>' +
                    (itemVal[i].expiryDate == null
                      ? ""
                      : itemVal[i].expiryDate);
                  +"</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Merchant Latitude :</h5><h5>' +
                    (itemVal[i].merchantLatitude == null
                      ? ""
                      : itemVal[i].merchantLatitude) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Merchant Longitude :</h5><h5>' +
                    (itemVal[i].merchantLongitude == null
                      ? ""
                      : itemVal[i].merchantLongitude) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Merchant Tagged Name :</h5><h5>' +
                    (itemVal[i].merchantTaggedName == null
                      ? ""
                      : itemVal[i].merchantTaggedName) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Merchant Zoom Index :</h5><h5>' +
                    (itemVal[i].merchantZoomIndex == null
                      ? ""
                      : itemVal[i].merchantZoomIndex) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Business Transaction :</h5><h5>' +
                    (itemVal[i].businessTransaction == null
                      ? ""
                      : itemVal[i].businessTransaction) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Receipt URL :</h5><h5>' +
                    (itemVal[i].receiptUrl == null
                      ? ""
                      : itemVal[i].receiptUrl) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Receipt Type :</h5><h5>' +
                    (itemVal[i].receiptType == null
                      ? ""
                      : itemVal[i].receiptType) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Receipt File Name :</h5><h5>' +
                    (itemVal[i].receiptFileName == null
                      ? ""
                      : itemVal[i].receiptFileName) +
                    "</h5>";
                  trHTML +=
                    '<h5 style="font-weight: 600">Labels :</h5><h5>' +
                    (itemVal[i].labels == null ? "" : itemVal[i].labels);
                  +"</h5>";
                  trHTML += "</div>";
                  trHTML += "</div>";
                  trHTML += "</div></td></tr>";
                });
                paginationForTransaction(data.pagination.totalPages, 1);
                $("#paging_infos").html(
                  "Showing " +
                    startno +
                    " to " +
                    slno +
                    " of " +
                    data.pagination.totalElements +
                    " entries"
                );
              } else {
                $("#transactionListTable").empty();
                trHTML +=
                  '<tr class="odd testingg"><td class="dataTables_empty" colspan="55" valign="top">No Transaction available in table</td></tr>';
              }
              $("#transactionListTable").html(trHTML);
            }
          },
          error: function (xhr) {
            xhr = sanitize(unSanitize(xhr));
            var trHTML = "";
            if (xhr.status == 500) {
              var responseMessage = JSON.parse(xhr.responseText);
              var message = responseMessage.message;
              $("#paginations").twbsPagination("destroy");
              $(".testingg").empty();
              trHTML +=
                '<tr class="odd testingg"><td class="dataTables_empty" colspan="45" valign="top">' +
                message +
                "</td></tr>";
              $("#transactionListTable").append(trHTML);
              $("#paging_infos").html(
                "Showing " +
                  startno +
                  " to " +
                  slno +
                  " of " +
                  data.pagination.totalElements +
                  " entries"
              );
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function paginationForTransaction(totalPages, val) {
        if (val === "0") {
          $("#paginations").twbsPagination("destroy");
        }
        if (totalPages === 0) {
          totalPages = 1;
        }
        $("#paginations").twbsPagination({
          totalPages: totalPages,
          visiblePages: 10,
          onPageClick: function (event, page) {
            if ($("#totalPages_Id").val() != 1) {
              generateTransactionsListTable(page - 1);
            } else {
              $("#totalPages_Id").val(2);
            }
          },
        });
      }

      function toggleAccordian(element) {
        $(element).text(function (_, value) {
          return value == "-" ? "+" : "-";
        });
        $(element)
          .closest("tr.header")
          .next("#collapse_header")
          .slideToggle(100)
          .css("display", "table-row");
      }

      function addCommentData() {
        $("#commentType").val("");
        $("#add_Comment").val(null);
        $("#transactionId").val(null);
        $("#authcode").val(null);
        $("#addCommentModal").modal("show");
      }

      function transactionsAddCommentData(transactionId, transactionCode) {
        $("#add_Comment").val(null);
        $("#transactionId").val(transactionId);
        $("#authcode").val(transactionCode);
        $("#commentType").val("Transaction");
        $("#addCommentModal").modal("show");
      }

      function unMaskCard() {
        var clientcode = $("#clientCode").val();
        var walletHashId = $("#walletHash").val();
        var customerHashId = $("#customerHashId").val();
        var cardID = $("#cardID").val();
        var url =
          $("#unmaskCardUrl").val() +
          "client" +
          "/" +
          clientcode +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/" +
          "card" +
          "/" +
          cardID +
          "/" +
          "unmaskCard";
        $("#unmaskCard_button").html(spinnerUrl);
        $.ajax({
          type: "GET",
          contentType: "application/json",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            const contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            let sanitizeData = sanitize(unSanitize(data));

            $("#cardProcessModel").modal("hide");
            $("#unmaskCard_success_modal").modal("show");
            $(".unmask_body_status").html(
              "Unmasked card successful" +
                "<br>" +
                "Unmasked Card Number : " +
                sanitizeData.unMaskedCardNumber
            );
            $("#unmaskCard_button").html("Unmask Card");
          },
          error: function (data) {
            let sanitizeData = sanitize(unSanitize(data));
            console.log(sanitizeData);
            const responseMessage = sanitizeData.responseJSON;
            const message = responseMessage.message;
            $("#cardProcessModel").modal("hide");
            $("#error_refundNotification").modal("show");
            $(".refunded_body").html(message);
            $("#unmaskCard_button").html("Unmask Card");
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      $("#commentSubmitBtn").click(function (event) {
        event.preventDefault();
        $("#commentSubmitBtn").attr("disabled", true);
        $("#commentSubmitBtn").html(spinnerUrl);
        if (!validateComment()) {
          $("#commentSubmitBtn").attr("disabled", false);
          $("#commentSubmitBtn").html("Submit");
          return;
        }
        var clientCode = $("#clientCode").val();
        var customerHashId = $("#customerHashId").val();
        var comment = $("#add_Comment").val();
        var commentType = $("#commentType").val();
        var transactionId = $("#transactionId").val();
        var authcode = $("#authcode").val();

        if (transactionId == null || transactionId == "") {
          comment = $("#add_Comment").val();
        } else {
          comment = "[" + authcode + "]" + $("#add_Comment").val();
        }

        var url =
          $("#customerCommentUrl").val() +
          "client" +
          "/" +
          clientCode +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/addComment";
        $.ajax({
          type: "POST",
          contentType: "application/json",
          url: url,
          dataType: "json",
          data: JSON.stringify({
            addComment: comment,
            commentType: commentType,
            transactionId: transactionId,
          }),
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (data, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            sanitize(unSanitize(data));

            $("#addCommentModal").modal("hide");
            $("#success_refundNotification").modal("show");
            $(".refunded_body").html("Comment added  successfully");
            $("#commentSubmitBtn").html("Submit");
            $("#commentSubmitBtn").attr("disabled", false);
          },
          error: function (data) {
            data = sanitize(unSanitize(data));
            $("#addCommentModal").modal("hide");
            var responseMessage = JSON.parse(data.responseText);
            if (data.readyState === 0) {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(
                "service is temporarily down,please try again later."
              );
            } else {
              $("#error_refundNotification").modal("show");
              $(".refunded_body").html(responseMessage.message);
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      });

      function transactionsgetCommentData(transactionId, transactionCode) {
        $("#transactionId").val(transactionId);
        getCommentData();
      }

      function getCommentData() {
        var trHtml = "";
        $("#customerComment").empty();
        $("#commentsCounter").html(0);
        var customerHashId = $("#customerHashId").val();
        var transactionId = $("#transactionId").val();
        if (transactionId == null || transactionId == "") {
          var url = $("#getCommentListUrl").val() + customerHashId;
        } else {
          var url =
            $("#getCommentListUrl").val() +
            customerHashId +
            "?" +
            "transactionid=" +
            transactionId;
        }

        $.ajax({
          type: "GET",
          url: url,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            if (result.length > 0) {
              $("#commentsCounter").html(result.length);
              for (var i = result.length - 1; i >= 0; i--) {
                var createdAtDate = new Date(result[i].createdAt);
                var date = createdAtDate.getDate();
                var month = createdAtDate.getMonth() + 1;
                var year = createdAtDate.getFullYear();
                var hour = createdAtDate.getHours();
                var minute = createdAtDate.getMinutes();
                var seconds = createdAtDate.getSeconds();
                var createdAt =
                  year +
                  "/" +
                  month +
                  "/" +
                  date +
                  " " +
                  hour +
                  ":" +
                  minute +
                  ":" +
                  seconds;
                trHtml =
                  '<div class="singl_comment mb-3">' +
                  "<div><strong>" +
                  createdAt +
                  "</strong> - " +
                  result[i].createdBy +
                  "</div>" +
                  "<div><strong>" +
                  result[i].commentType +
                  "</strong> - " +
                  result[i].comment +
                  "</div>" +
                  "</div>";
                $("#customerComment").append(trHtml);
              }
              $("#commentsModal").modal();
              $("#transactionId").val(null);
            } else {
              $("#commentsModal").modal();
              $("#transactionId").val(null);
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function validateComment() {
        var result = true;
        var commentType = $("#commentType").val();
        var comment = $("#add_Comment").val();

        if (commentType == null || commentType == "") {
          result = false;
          $("#commentTypeError").html("Comment type is mandatory!");
        }
        if (comment == null || comment == "") {
          result = false;
          $("#addCommentError").html("Enter Comment!");
        } else if (comment.length > 250) {
          result = false;
          $("#addCommentError").html("Maximum 250 Characters Allowed");
        }

        setTimeout(function () {
          $("#commentTypeError").html("");
          $("#addCommentError").html("");
        }, 3000);
        return result;
      }

      function fetchCommentTypeUrl() {
        $.ajax({
          url: $("#getCommentTypeUrl").val(),
          type: "GET",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var optionTag =
              "<option value = ''>Select a Comment Type </option>";
            var body = result.body;
            var keysArr = Object.keys(body);
            for (var i = 0; i < keysArr.length; i++) {
              var key = keysArr[i] + "";
              var value = body[key];
              optionTag +=
                "<option value = '" + value + "'>" + value + "</option>";
            }
            $("#commentType").html(optionTag);
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function openDocUploadModal() {
        const complianceProfile = $("#complianceProfile").val();
        if (complianceProfile === "SG_SHIPPING") {
          openSgShippingDocUploadModal();
        } else {
          const complianceInitiatedCountryCode = $(
            "#complianceInitiatedCountryCode"
          ).val();
          if (complianceInitiatedCountryCode === "SG") {
            openSgDocUploadModal();
          } else if (complianceInitiatedCountryCode === "AU") {
            openAuDocUploadModal();
          } else if (complianceInitiatedCountryCode === "EU") {
            openEuDocUploadModal();
          } else if (complianceInitiatedCountryCode === "HK") {
            openHkDocUploadModal();
          }
        }
      }

      function getCountryList() {
        $.ajax({
          url: $("#getCountryListUrl").val(),
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            countryListObject = result;
            var optionTag = "<option value = ''>Select an option</option>";
            for (let i = 0; i < result.length; i++) {
              let eachOption = result[i];
              optionTag +=
                "<option value = " +
                eachOption.iso2 +
                ">" +
                eachOption.name +
                " (" +
                eachOption.iso2 +
                ")" +
                "</option>";
            }

            $("#countryCode").html(optionTag);
            $(".enableSelect2").select2({
              placeholder: "Select an option",
              allowClear: true,
              dropdownAutoWidth: false,
              width: "100%",
              dropdownCss: {
                width: "inherit",
              },
            });

            if (
              $("#countryCodeValueHold").val() != null &&
              $("#countryCodeValueHold").val() != ""
            ) {
              $("#countryCode").val($("#countryCodeValueHold").val());
              $(".enableSelect2").trigger("change");
            }

            let optionTag2 = "<option value = ''>Select an option</option>";
            for (let j = 0; j < result.length; j++) {
              let eachOption2 = result[j];
              optionTag2 +=
                "<option value = " +
                eachOption2.name +
                ">" +
                eachOption2.name +
                "</option>";
            }

            $("#nationality").html(optionTag2);
            $(".enableSelect2").select2({
              placeholder: "Select an option",
              allowClear: true,
              dropdownAutoWidth: false,
              width: "100%",
              dropdownCss: {
                width: "inherit",
              },
            });

            if (
              $("#nationalityValueHold").val() != null &&
              $("#nationalityValueHold").val() != ""
            ) {
              $("#nationality").val($("#nationalityValueHold").val());
              $(".enableSelect2").trigger("change");
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function populatePhoneCode(countryCodeId) {
        const countryCodeValue = $("#" + countryCodeId).val();
        $.ajax({
          url: $("#getCountryListUrl").val(),
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            var optionTag = "";
            for (var i = 0; i < result.length; i++) {
              var eachOption = result[i];
              if (countryCodeValue == eachOption.iso2) {
                if (eachOption.phoneCode.includes("+") == false) {
                  $("#teleCode").val("+" + eachOption.phoneCode);
                  $("#contactNumber").removeAttr("disabled");
                  $("#countryPhoneCode").val("+" + eachOption.phoneCode);
                } else {
                  $("#teleCode").val(eachOption.phoneCode);
                  $("#contactNumber").removeAttr("disabled");
                  $("#countryPhoneCode").val("+" + eachOption.phoneCode);
                }
                break;
              }
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function transacionDownload() {
        var clientCode = $("#clientCode").val();
        var customerHashId = $("#customerHashId").val();
        var transactionDownloadUrl =
          $("#transactionDownloadUrl").val() +
          "?" +
          "clientCode=" +
          clientCode +
          "&customerHashId=" +
          customerHashId +
          "&Authorization=" +
          getAuthToken();
        location.href = transactionDownloadUrl;
      }

      $("#cardHashId")
        .change(function () {
          const cardHashId = $("#cardHashId").val();
          if (cardHashId == null) {
            return "";
          }
          const customerHashId = $("#customerHashId").val();
          $.ajax({
            url: $("#getcardlistUrl").val() + customerHashId + "/cards",
            type: "post",
            async: false,
            beforeSend: function (xhr) {
              setAuthTokenInReqHeader(xhr);
              setCsrfTokenInRequestHeader(xhr);
            },
            success: function (result, status, xhr) {
              let contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
              result = sanitize(unSanitize(result));

              if (
                result != null &&
                result !== "" &&
                result !== "[]" &&
                result.length > 0
              ) {
                for (let i = 0; i < result.length; i++) {
                  let eachOption = result[i];
                  if (eachOption.cardHashId === cardHashId) {
                    if (logoIdArray.length > 0) {
                      for (let j = 0; j < logoIdArray.length; j++) {
                        let existEachOption = logoIdArray[j];
                        if (eachOption.logoId === existEachOption.logoId) {
                          $("#logoIdValueHold").val(
                            existEachOption.logoIdentifier
                          );
                          $("#logoId").val($("#logoIdValueHold").val());
                          $("#logoId").trigger("change");
                          $("#logoId").attr("disabled", true);
                          break;
                        }
                      }
                    }
                    $("#plasticIdValueHold").val(eachOption.plasticId);
                    $("#cardTypeCodeValueHold").val(eachOption.cardType.code);
                    $("#plasticId").val($("#plasticIdValueHold").val());
                    $("#plasticId").trigger("change");
                    $("#plasticId").attr("disabled", true);
                    $("#cardTypeCode").val($("#cardTypeCodeValueHold").val());
                    $("#cardTypeCode").trigger("change");
                    $("#cardTypeCode").attr("disabled", true);
                  }
                }
              }
            },
            complete: function (xhr, status) {
              const contextPath = "${pageContext.request.contextPath}";
              setAndReturnNewAuthToken(xhr, contextPath);
              setAndReturnNewCsrfToken(xhr, contextPath);
            },
          });
        })
        .change();

      $("#addCardModel").on("hide.bs.modal", function () {
        $(".empty").each(function (index, element) {
          $(element).val("");
        });
      });

      function getCountryCode() {
        $.ajax({
          url: $("#getCountryListUrl").val(),
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            countryListObject = result;
            var optionTag = "<option value = ''>Select an option</option>";
            for (var i = 0; i < result.length; i++) {
              var eachOption = result[i];
              optionTag +=
                "<option value = " +
                eachOption.iso2 +
                ">" +
                eachOption.name +
                " (" +
                eachOption.iso2 +
                ")" +
                "</option>";
            }

            $("#countryCodeList").html(optionTag);
            $("#countryCodeList").select2({
              placeholder: "Select an option",
              allowClear: false,
              dropdownAutoWidth: false,
              width: "100%",
              dropdownCss: {
                width: "inherit",
              },
            });
            if (
              $("#countryCodeListValueHold").val() != null &&
              $("#countryCodeListValueHold").val() != ""
            ) {
              $("#countryCodeList").val($("#countryCodeListValueHold").val());
              $("#countryCodeList").trigger("change");
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function populatePhoneCodeValue(countryCodeId) {
        const countryCodeValue = $("#" + countryCodeId).val();
        $.ajax({
          url: $("#getCountryListUrl").val(),
          type: "get",
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            result = sanitize(unSanitize(result));

            for (let i = 0; i < result.length; i++) {
              let eachOption = result[i];
              if (countryCodeValue === eachOption.iso2) {
                if (eachOption.phoneCode.includes("+") === false) {
                  $("#telephoneCode").val("+" + eachOption.phoneCode);
                  $("#mobileNumber").removeAttr("disabled");
                } else {
                  $("#telephoneCode").val(eachOption.phoneCode);
                  $("#mobileNumber").removeAttr("disabled");
                }
                break;
              }
            }
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function generateLimitsTable() {
        var ClientHashId = $("#clientCode").val();
        var walletHashId = $("#walletHash").val();
        var customerHashId = $("#customerHashId").val();
        var url =
          $("#walletBalanceUrl").val() +
          "client" +
          "/" +
          ClientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/" +
          "wallet" +
          "/" +
          walletHashId +
          "/limits";
        $.ajax({
          type: "GET",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            let myList = sanitize(unSanitize(result));
            addLimitsTable(myList.transactionWalletLimits, $("#limitList"));
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function addLimitsTable(limitList, appendObj) {
        let slno = 0;
        let trHTML = "";
        if (limitList != null && limitList !== "" && limitList.length > 0) {
          $("#limitList").empty();
          $(limitList).each(function (i, item) {
            $(item.transactionLimits).each(function (j, subItem) {
              let maskedCardNumber = subItem.maskedCardNumber;
              let type = subItem.type;
              let value = subItem.value;
              let status = subItem.status;
              let createdAt = subItem.createdAt;
              let updatedAt = subItem.updatedAt;
              let cardHashId = item.cardHashId;
              let thresholdLimit = subItem.additionalPercentage;

              slno = slno + 1;
              trHTML += '<tr class="testingg"><td>' + slno + "</td>";
              trHTML +=
                '<td style="white-space: nowrap">' + maskedCardNumber + "</td>";
              trHTML +=
                '<td style="white-space: nowrap">' + cardHashId + "</td>";
              trHTML += "<td>" + type + "</td>";
              trHTML += "<td>" + value + "</td>";
              trHTML += "<td>" + thresholdLimit + "</td>";
              trHTML += "<td>" + status + "</td>";
              trHTML +=
                '<td style="white-space: nowrap">' +
                convertNumericDateToReadableFormat(createdAt) +
                "</td>";
              trHTML +=
                '<td style="white-space: nowrap">' +
                convertNumericDateToReadableFormat(updatedAt) +
                "</td></tr>";
            });
          });
          $("#limitList").html(trHTML);
        } else {
          $("#limitList").empty();
          trHTML +=
            '<tr class="odd testingg"><td class="dataTables_empty" colspan="10" valign="top">No data available in table</td></tr>';
          $("#limitList").html(trHTML);
        }
      }

      function generateBeneficiariesTable() {
        const clientHashId = $("#clientCode").val();
        const customerHashId = $("#customerHashId").val();
        const url =
          $("#beneficiariesListUrl").val() +
          clientHashId +
          "/customer/" +
          customerHashId +
          "/beneficiaries";
        $.ajax({
          type: "GET",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            let sanitizeData = sanitize(unSanitize(result));

            let beneficiarySanitizedList = sanitizeData;
            addBeneficiaryTable(
              beneficiarySanitizedList,
              $("#beneficiaryList")
            );
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      const getAcccountNumber = (isPayout, payoutMethod, accountNumber) => {
        if (isPayout) {
          if (payoutMethod.toLowerCase() === "local") {
            return accountNumber.replace(/.(?=.{4})/g, "x");
          } else {
            return accountNumber;
          }
        }
        return accountNumber;
      };

      const isEmpty = (value) => {
        if (typeof value !== "undefined" && value) return true;
        else false;
      };

      function addBeneficiaryTable(beneficiarySanitizedList, appendObj) {
        var slno = 0;
        var trHTML = "";
        if (
          beneficiarySanitizedList != null &&
          beneficiarySanitizedList !== "" &&
          beneficiarySanitizedList.length > 0
        ) {
          $("#beneficiaryList").empty();
          $(beneficiarySanitizedList).each(function (i, beneficiary) {
            slno = slno + 1;
            trHTML += '<tr class="testingg"><td>' + slno + "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.beneficiary_hash_id)
                ? beneficiary.beneficiaryDetail.beneficiary_hash_id
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.name)
                ? beneficiary.beneficiaryDetail.name
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.payoutDetail.bank_name)
                ? beneficiary.payoutDetail.bank_name
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.payoutDetail.account_number)
                ? getAcccountNumber(
                    isEmpty(beneficiary.payoutDetail.payout_method),
                    beneficiary.payoutDetail.payout_method,
                    beneficiary.payoutDetail.account_number
                  )
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.email)
                ? beneficiary.beneficiaryDetail.email
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.contact_number)
                ? beneficiary.beneficiaryDetail.contact_number
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.country_code)
                ? beneficiary.beneficiaryDetail.country_code
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.created_at)
                ? convertNumericDateToReadableFormat(
                    beneficiary.beneficiaryDetail.created_at
                  )
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.beneficiaryDetail.relationship)
                ? beneficiary.beneficiaryDetail.relationship
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(beneficiary.payoutDetail.payout_method)
                ? beneficiary.payoutDetail.payout_method
                : "") +
              "</td>";
          });
          $("#beneficiaryList").html(trHTML);
        } else {
          $("#beneficiaryList").empty();
          trHTML +=
            '<tr class="odd testingg"><td class="dataTables_empty" colspan="12" valign="top">No data available in table</td></tr>';
          $("#beneficiaryList").html(trHTML);
        }
      }

      function generateLinkedCardsTable() {
        const customerHashId = $("#customerHashId").val();
        const url = $("#linkedCardsListUrl").val() + customerHashId;
        $.ajax({
          type: "GET",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            let sanitizeData = sanitize(unSanitize(result));

            let linkedCardsSanitizedList = sanitizeData;
            addLinkedCardsTable(
              linkedCardsSanitizedList,
              $("#linkedCardsList")
            );
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function addLinkedCardsTable(linkedCardsSanitizedList, appendObj) {
        var slno = 0;
        var trHTML = "";
        if (
          linkedCardsSanitizedList != null &&
          linkedCardsSanitizedList !== "" &&
          linkedCardsSanitizedList.length > 0
        ) {
          $("#linkedCardsList").empty();
          $(linkedCardsSanitizedList).each(function (i, linkedCard) {
            slno = slno + 1;
            trHTML += '<tr class="testingg"><td>' + slno + "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.authType) ? linkedCard.authType : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.maskedCardNumber)
                ? linkedCard.maskedCardNumber
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.linkedMaskedCardNumber)
                ? linkedCard.linkedMaskedCardNumber
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.selected) ? linkedCard.selected : "false") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.paymentInstrumentHashId)
                ? linkedCard.paymentInstrumentHashId
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.cardType) ? linkedCard.cardType : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.cardNetwork) ? linkedCard.cardNetwork : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.cardIssuer) ? linkedCard.cardIssuer : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.cardName) ? linkedCard.cardName : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.linkedCardStatus)
                ? linkedCard.linkedCardStatus
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.linkedCardVerificationStatus)
                ? linkedCard.linkedCardVerificationStatus
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.countryCode) ? linkedCard.countryCode : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.linkedCardErrorDescription)
                ? linkedCard.linkedCardErrorDescription
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.mappingKey) ? linkedCard.mappingKey : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.mappingValue)
                ? linkedCard.mappingValue
                : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.createdAt) ? linkedCard.createdAt : "") +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              (isEmpty(linkedCard.updatedAt) ? linkedCard.updatedAt : "") +
              "</td></tr>";
          });
          $("#linkedCardsList").html(trHTML);
        } else {
          $("#linkedCardsList").empty();
          trHTML +=
            '<tr class="odd testingg"><td class="dataTables_empty" colspan="12" valign="top">No data available in table</td></tr>';
          $("#linkedCardsList").html(trHTML);
        }
      }

      function generateRestrictionsTable() {
        var clientHashId = $("#clientCode").val();
        var customerHashId = $("#customerHashId").val();
        var url =
          $("#walletBalanceUrl").val() +
          "client" +
          "/" +
          clientHashId +
          "/" +
          "customer" +
          "/" +
          customerHashId +
          "/restrictions";
        $.ajax({
          type: "GET",
          url: url,
          timeout: 600000,
          async: false,
          beforeSend: function (xhr) {
            setAuthTokenInReqHeader(xhr);
            setCsrfTokenInRequestHeader(xhr);
          },
          success: function (result, status, xhr) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
            let sanitizeData = sanitize(unSanitize(result));

            let restrictionsSanitizedList = sanitizeData;
            addRestrictionsTable(
              restrictionsSanitizedList,
              $("#restrictionList")
            );
          },
          complete: function (xhr, status) {
            var contextPath = "${pageContext.request.contextPath}";
            setAndReturnNewAuthToken(xhr, contextPath);
            setAndReturnNewCsrfToken(xhr, contextPath);
          },
        });
      }

      function addRestrictionsTable(restrictionsList, appendObj) {
        var slno = 0;
        var trHTML = "";
        if (
          restrictionsList != null &&
          restrictionsList !== "" &&
          restrictionsList.length > 0
        ) {
          $("#restrictionList").empty();
          $(restrictionsList).each(function (i, restriction) {
            console.log(restriction);

            slno = slno + 1;
            trHTML += '<tr class="testingg"><td>' + slno + "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.maskedCardNumber +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.cardHashId +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.channelName +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.restrictionName +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.restrictionOperator +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              restriction.restrictionValue +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' + restriction.status + "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              convertNumericDateToReadableFormat(restriction.createdAt) +
              "</td>";
            trHTML +=
              '<td style="white-space: nowrap">' +
              convertNumericDateToReadableFormat(restriction.updatedAt) +
              "</td>";
          });
          $("#restrictionList").html(trHTML);
        } else {
          $("#restrictionList").empty();
          trHTML +=
            '<tr class="odd testingg"><td class="dataTables_empty" colspan="12" valign="top">No data available in table</td></tr>';
          $("#restrictionList").html(trHTML);
        }
      }

      function convertNumericDateToReadableFormat(numericDate) {
        var newDate = new Date(numericDate);
        var date = newDate.getDate();
        var month = newDate.getMonth() + 1;
        var year = newDate.getFullYear();
        var hour = newDate.getHours();
        var minute = newDate.getMinutes();
        var seconds = newDate.getSeconds();
        var readableDate =
          year +
          "/" +
          month +
          "/" +
          date +
          " " +
          hour +
          ":" +
          minute +
          ":" +
          seconds;
        return readableDate;
      }

      function returnEmptyIfBlank(input) {
        if (
          input == null ||
          input === "null" ||
          input === undefined ||
          input == "undefined" ||
          input == ""
        ) {
          return "";
        }
        return input;
      }
    </script> -->
</body>

</html>